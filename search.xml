<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>“操作系统进程管理”</title>
      <link href="/2022/051413594.html"/>
      <url>/2022/051413594.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>操作系统计算机系统概述</title>
      <link href="/2022/051418462.html"/>
      <url>/2022/051418462.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机系统概述"><a href="#计算机系统概述" class="headerlink" title="计算机系统概述"></a>计算机系统概述</h1><img src="/2022/0514undefined/1.jpg" class="">  <h2 id="操作系统基本概念"><a href="#操作系统基本概念" class="headerlink" title="操作系统基本概念"></a>操作系统基本概念</h2><h3 id="操作系统的概念"><a href="#操作系统的概念" class="headerlink" title="操作系统的概念"></a>操作系统的概念</h3><ul><li>软件是计算机系统的灵魂，而软件核心是操作系统。  </li><li>计算机系统从上到下分四个部分：硬件，操作系统，应用程序，用户。</li><li>操作系统管理各种计算机硬件，并且为应用程序提供基础，充当计算机硬件与用户之间的中介。</li><li>硬件比如：CPU，内存，IO设备等提供基本计算资源。应用程序如：字处理程序，编译器，浏览器等规定按照何种方式来使用这些计算资源解决用户的计算问题。操作系统就负责控制和协调各个用户的应用程序对硬件的分配和使用。  </li><li>综上，OS就是控制和管理整个计算机系统硬件与软件资源，合理组织和调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的集合，也是计算机系统中最基本的系统软件。  <h3 id="操作系统的特征"><a href="#操作系统的特征" class="headerlink" title="操作系统的特征"></a>操作系统的特征</h3></li><li>OS是一种系统软件，但与其他系统软件和应用软件有很大不同，它有自己的特殊性即基本特征：并发，共享，虚拟，异步。  </li><li>并发Concurrence：<br>两个或多个事件在同一个时间间隔内发生，OS具有处理和调度多个程序同时执行的能力，同时引入进程的目的就是让程序可以并发执行。<br>注意同一时间间隔（并发）和同一时刻（并行）的区别：单个时刻单处理机环境下实际只能有一个程序执行，因此微观上这些程序仍然是分时交替执行的，OS的并发性也是通过分时实现的。   </li><li>共享sharing：<br>即资源共享，系统中资源可以供内存中多个并发执行的进程共同使用，分两种方式：<br>①互斥共享方式：<br>系统中某些资源某段时间内只允许一个进程访问资源。把这种资源成为临界资源/独占资源。计算机系统大多物理设备及某些软件中的栈，变量，表格都是临界资源，只允许一个正在使用的进程。<br>②同时访问方式：<br>宏观上是“同时”，微观上进程可能是交替地对资源进行访问即“分时共享”的，可供多个进程“同时”访问的资源是磁盘设备。<br>（并发和共享是OS最基本特征，相互依赖）</li><li>虚拟virtual：<br>把物理上的实体变成若干逻辑上的对应物，技术成为虚拟技术，OS利用多种虚拟技术实现虚拟处理器，虚拟内存，虚拟外部设备等。<br>虚拟处理器技术通过多道程序设计技术，采用让多道程序并发执行的方法，分时使用一个处理器，一个物理CPU虚拟成为多个逻辑的CPU，成为虚拟处理器。（同理虚拟内存，虚拟外部设备）<br>虚拟技术归纳为时分复用，技术，空分复用技术。  </li><li>异步asynchronism：<br>多道程序允许多个程序并发执行，但资源有限，进程执行并不是一贯到底的，而是走走停停的，以不可预知的速度向前推进，这就是进程的异步性。  <h3 id="操作系统的目标和功能"><a href="#操作系统的目标和功能" class="headerlink" title="操作系统的目标和功能"></a>操作系统的目标和功能</h3></li><li>OS应该具有以下功能：处理机管理，存储器管理，设备管理， 文件管理，且必须向用户提供接口。  </li><li>操作系统作为计算机系统资源的管理者：<br>①处理机管理：<br>处理机分配和运行都以进程为基本单位，也就是对进程的管理：主要包括进程控制，进程同步，进程通信，进程通信，死锁处理，处理机调度等。<br>②存储器管理：<br>给多道程序运行提供环境，方便用户使用及提高内存利用率，包括内存分配和回收，地址映射，内存保护和共享，内存扩充等功能。<br>③文件管理：<br>信息都以文件形式存储，负责管理文件部分为文件系统，包括文件存储空间管理，目录管理，文件读写管理和保护。<br>④设备管理：<br>设备管理主要任务是完成用户的I/O请求，方便用户使用各种设备，提高设备利用率，包括缓冲管理，设备分配，设备处理，虚拟设备等。  </li><li>操作系统作为用户与计算机硬件系统之间的接口：<br>两类接口：<br>①命令接口：用户利用命令组织控制作业的执行。两种控制作业的方式为联机控制方式和脱机控制方式，所以把接口分为联机命令接口和脱机命令接口。<br>联机命令接口：又叫交互式命令接口，适用分时/实时系统的接口。（多次输入命令逐次处理）<br>脱机命令接口：又叫批处理命令接口，适用于批处理系统的接口。（一次输入逐次处理）<br>②程序接口：编程人员使用他们请求操作系统服务。由一组系统调用组成，用户通过程序中使用这些系统调用来请求OS服务，比如GUI。  </li><li>操作系统作为扩充机器：<br>没有任何软件支持计算机成为裸机，为物理基础，而实际应该使用OS把裸机改造成功能更强，使用更方便的机器，因此覆盖了软件的机器称为扩充机器/虚拟机。  <h2 id="操作系统的发展与分类"><a href="#操作系统的发展与分类" class="headerlink" title="操作系统的发展与分类"></a>操作系统的发展与分类</h2><h3 id="手工操作阶段"><a href="#手工操作阶段" class="headerlink" title="手工操作阶段"></a>手工操作阶段</h3></li><li>计算机计算过程需要人工干预，缺点：①用户独占全机，资源利用率低。②CPU等待手工操作，CPU利用率低。  <h3 id="批处理阶段"><a href="#批处理阶段" class="headerlink" title="批处理阶段"></a>批处理阶段</h3></li><li>为了解决人际矛盾及CPU和IO设备矛盾，出现了批处理系统，分为单道批处理系统和多道批处理系统。  </li><li>单道批处理系统：<br>①自动性：作业自动逐行运行，无须人工干预。<br>②顺序性：作业完成顺序就是进入内存顺序，先进入先完成。<br>③单道性：内存中只有一道程序运行，结束才让其他程序进入。<br>④但高速CPU仍然等待低速I/O完成状态。  </li><li>多道批处理系统：<br>允许多个程序同时进入内存，允许他们在CPU交替运行，共享系统资源。一道程序因为I/O请求等待，CPU就可以处理其他程序，使得资源利用率提高。<br>①多道：计算机内存中同时存多道程序。<br>②宏观上并行：同时进入内存的程序都处于运行中，但实际是先后运行。<br>③微观上串行：内存中多道程序轮流占用CPU，交替执行。<br>④优点是资源利用率高，系统吞吐量大，资源保持忙碌状态。<br>⑤缺点是用户响应时间长，没有人机交互。<h3 id="分时操作系统"><a href="#分时操作系统" class="headerlink" title="分时操作系统"></a>分时操作系统</h3>分时技术：把处理器运行时间分为时间片，轮流分配给作业使用，作业只利用自己的时间片完成计算，没有完成的也停止，也支持多道程序，但是包括人机交互的。<br>①同时性：允许多个终端用户同时使用计算机。<br>②交互性：用户通过终端采用人机对话方式控制程序<br>③独立性：多个用户彼此独立操作互不干扰。<br>④及时性：短时间内响应用户请求，一个计算机服务多个终端，所以响应及时。<br>⑤尽管解决了人机交互问题，但短时间反映问题还需要处理，所以出现实时操作系统。  <h3 id="实时操作系统"><a href="#实时操作系统" class="headerlink" title="实时操作系统"></a>实时操作系统</h3></li><li>某个时间限制内完成某些紧急任务而不需要时间片排队，分两种情况：<br>①硬实时系统：某个动作必须绝对在规定时刻发生，则称为硬实时系统。（飞行器控制系统）<br>②软实时系统：能够接收偶尔违反实践规定且不会引起永久性损害。（飞机订票系统）  <h3 id="网络操作系统和分布式计算机系统"><a href="#网络操作系统和分布式计算机系统" class="headerlink" title="网络操作系统和分布式计算机系统"></a>网络操作系统和分布式计算机系统</h3></li><li>网络操作系统是把计算机网络各台计算机有机结合起来，提供一对一，经济有效的使用各台计算机方法，实现各台计算机之间数据的互相传送。网络操作系统最主要的特点是网络中各种资源的共享及各台计算机之间的通信。  </li><li>分布式计算机系统组成并满足下列条件的系统：系统中任意两台计算机通过通信方式交换信息，每台计算机地位平等，资源所有用户共享，任意计算机都可以构成一个子系统，任何工作都可以分布在几台计算机上，由他们并行工作，协同完成。系统称为分布式计算机系统，特点就是分布性和并行性。  <h3 id="个人计算机操作系统"><a href="#个人计算机操作系统" class="headerlink" title="个人计算机操作系统"></a>个人计算机操作系统</h3>目前最广泛的操作系统，如Windows，Linux等<img src="/2022/0514undefined/2.jpg" class="">   <h2 id="操作系统的运行环境"><a href="#操作系统的运行环境" class="headerlink" title="操作系统的运行环境"></a>操作系统的运行环境</h2><h3 id="操作系统的运行机制"><a href="#操作系统的运行机制" class="headerlink" title="操作系统的运行机制"></a>操作系统的运行机制</h3></li><li>计算机系统中，CPU通常执行两种不同性质的程序：一种是OS内核程序，一种是用户自编程序（应用程序）。对于OS来说前者是后者的管理者，因此需要特权指令比如：IO指令，置中断指令等指令。实现上把CPU划分为用户态（只能执行非特权指令）和核心态（可以执行特权指令），应用程序运行在用户态，而OS内核程序运行在核心态。  </li><li>内核是计算机底层软件，是计算机功能延申，不同系统对于内核定义不同，但大多包括4方面内容：<br>①时钟管理：<br>时钟是最关键的设备，第一功能是计时，向用户提供标准系统时间。通过时钟中断的管理实现进程切换（时间片轮转等），因此系统依赖时钟。<br>②中断机制：<br>引入中断目的是提高多道程序运行环境中的CPU的利用率，逐步发展形成多种类型，成为OS各项操作的基础。例如：键鼠信息输入，进程调度，设备驱动等。现代OS就是靠中断驱动的软件。<br>③原语：<br>OS底层一些可以被调用的小程序，各自完成一定操作，特点：①处于OS最底层，最接近硬件的部分。②程序具有原子性。③运行时间短，而且调用频繁。<br>具有这些特点的程序就是原语，定义原语的直接方法就是关闭中断，让所有动作不可分割完成之后再中断，系统中的设备驱动，CPU切换，进程通信等过程就是原语，成为内核组成部分。<br>④系统控制的数据结构和处理：<br>系统中登记状态信息的数据结构很多，如作业控制块，进程控制块PCB，设备控制块，各类链表，消息队列，缓冲区，空闲区登记表，内存分配表等，常见操作有：进程管理，存储器管理，设备管理。<h3 id="中断和异常的概念"><a href="#中断和异常的概念" class="headerlink" title="中断和异常的概念"></a>中断和异常的概念</h3></li><li>中断和异常的定义：<br>中断Interruption，也称外中断，来自CPU执行指令以外的事情发生（IO设备中断表示输入输出完毕发生下一个请求；时钟中断表示固定时间片到期），通常是指与当前指令无关的事件。<br>异常Exception，也称内中断，例外，陷入trap。指源自CPU指令内部的事情引起的事件（算术溢出，地址越界，非法操作等），对异常处理一般要依赖当前程序运行现场，且异常不能被屏蔽，一旦出现必须处理。  <img src="/2022/0514undefined/3.jpg" class="">   </li><li>中断处理过程：  <img src="/2022/0514undefined/4.jpg" class="">   <h3 id="系统调用"><a href="#系统调用" class="headerlink" title="系统调用"></a>系统调用</h3></li><li>指用户在程序调用操作系统所提供的一些子功能，系统调用可视为特殊的公共子程序。系统内各种共享资源都有OS掌管，在用户程序中，凡是跟资源有关操作都需要系统调用的方式向OS提出服务请求，请OS代为完成，通常这种指令有很多条，分为几大类：设备管理，文件管理，进程控制，进程通信，内存管理。</li><li>系统调用相关功能涉及系统资源管理，进程管理等操作，需要特权指令，所以系统调用处理需要由操作系统欸和程序负责完成运行在核心态。用户程序可以执行trap命令发起系统调用，请求OS服务，相当于把CPU使用权交给OS内核程序。用户程序不能直接执行对系统影响很大的操作，必须通过系统调用的方式请求OS执行，以便保证系统稳定性和安全性，防止用户程序随意更改/访问重要的系统资源，影响其他进程执行。  </li><li>OS运行环境理解为：用户通过OS上层程序，而这个程序依赖OS底层管理程序提供服务支持，当需要管理程序服务时，系统则通过硬件中断机制进入核心态，运行管理程序，也可能是程序运行出现异常情况，被动需要管理程序服务，通过异常处理来进入核心态，管理程序运行结束时，用户程序需要继续运行，此时通过响应的保存的程序现场退出中断处理程序/异常处理程序，返回断点处继续执行。  <h2 id="操作系统的体系结构"><a href="#操作系统的体系结构" class="headerlink" title="操作系统的体系结构"></a>操作系统的体系结构</h2><h3 id="大内核和微内核"><a href="#大内核和微内核" class="headerlink" title="大内核和微内核"></a>大内核和微内核</h3></li><li>大内核：把OS主要模块作为一个紧密相连的整体运行在核心态，从而为应用提供高性能的系统服务，因为各管理模块之间共享信息，能有效利用相互之间的有效特性，所以性能有优势。</li><li>微内核：随着功能需求不断增多，大内核难以维护，所以出现微内核。它把内核中最基本的功能保留在内核，而那些不需要在核心态执行的功能移到用户态执行，从而减低了内核设计的复杂性，那些移出内核的OS的代码根据分层的原则被划分成若干服务程序，它们执行相互独立，交互则都借助于微内核进行通信。有效分离了内核与服务，服务与服务，接口更清晰，维护代价降低，各部分都可以独立优化和演进，保证了OS可靠性。但问题就是因为频繁在核心态和用户态之间切换，OS执行开销相当大。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络应用层</title>
      <link href="/2022/050732155.html"/>
      <url>/2022/050732155.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络应用层"><a href="#计算机网络应用层" class="headerlink" title="计算机网络应用层"></a>计算机网络应用层</h1><img src="/2022/050732155/1.jpg" class="">  <h2 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h2><h3 id="客户-x2F-服务器类型"><a href="#客户-x2F-服务器类型" class="headerlink" title="客户/服务器类型"></a>客户/服务器类型</h3><ul><li>C/S模型中，一个总是打开的主机为服务器，服务于其他称为客户机的主机请求，工作流程如下：<br>①服务器处接收请求状态。<br>②客户机发出服务请求，并等待结果。<br>③服务器收到请求之后，分析请求，进行必要的处理，得到结果并发送给客户机。  </li><li>客户程序必须知道服务器程序的地址，服务器程序不用知道客户程序的地址。主要特征就是客户是服务请求方，服务器是服务提供方，典型应用包括：Web，文件传输协议FTP，远程登陆TELNET，电子邮件E-mail。  </li><li>主要特点还有：<br>①网络中计算机地位不平等。<br>②客户机之间不能直接通信。<br>③可扩展性不佳。  <h3 id="P2P模型"><a href="#P2P模型" class="headerlink" title="P2P模型"></a>P2P模型</h3></li><li>思想是整个网络中传输内容不在中心服务器上，而是每个结点都有下载，上传的功能，任意一对计算机称为对等方Peer，可以直接通信，典型应用包括：PPLive，Bittorrent和电驴等。  </li><li>相比C/S，主要优点是：<br>①减轻服务器计算压力，消除了对某个服务器完全依赖，任务分配在各个结点上，大大提高系统效率和资源利用率。<br>②多个客户机共享文档。<br>③可扩展性号，传统服务器有响应和带宽，因此只能接收一定数量请求。<br>④网络健壮性强，一个结点失效不会影响其他结点。  </li><li>也有缺点：获取服务的时候也要给其他结点服务，占用较多内存，影响整机速度。    <img src="/2022/050732155/2.jpg" class="">  <h2 id="域名系统DNS"><a href="#域名系统DNS" class="headerlink" title="域名系统DNS"></a>域名系统DNS</h2></li><li>因特网使用的命名系统，用来把便于人们记忆具有特定含义的主机名转化为便于机器处理的IP地址，使用C/S，运行在UDP之上，使用53号端口。分为三部分：层次域名空间，域名服务器，解析器。    <h3 id="层次域名空间"><a href="#层次域名空间" class="headerlink" title="层次域名空间"></a>层次域名空间</h3></li><li>采用层次树状命名方法，任何一个连接到因特网的主机或路由器都有一个唯一层次标识，即域名。域是名字空间中可以被管理的部分。域还可以划分子域，还能继续划分，形成了顶级域，二级域，三级域等。每个域名都有由标号序列组成，各个标号都由.隔开。  <img src="/2022/050732155/3.jpg" class="">  </li><li>注意点：<br>①标号中英文不区分大小写。<br>②标号中除了-之外不能使用其他符号。<br>③每个标号不超过63字符，多标号不超过255字符。<br>④级别最低域名在最左边，最高在最右边。  </li><li>顶级域名TLD有三类：<br>①国家顶级域名：“.cn”表示中国。<br>②通用顶级域名：“。com”表示公司。<br>③基础结构域名：这种顶级域名只有一个arpa，用于反向域名解析，又称反向域名。    </li><li>国家下的二级域名由该国家自行确定，展示树状结构：  <img src="/2022/050732155/4.jpg" class="">  </li><li>每个域名可以由不同组织进行管理组织也可以再分成一定数目的子域去管理。  <h3 id="域名服务器"><a href="#域名服务器" class="headerlink" title="域名服务器"></a>域名服务器</h3></li><li>因特网的域名系统被设计成一个联机分布式服务器，用C/S模型，域名到IP地址解析是用由运行在域名服务器上的程序完成的，一个服务器负责管辖称为区，每个区都有响应权限域名服务器，用来保存该区所有主机的域名到IP地址的映射。每个域名服务器不但能够映射IP地址，还能连接其他域名服务器，当自己不能够映射出IP地址的时候找其他域名服务器。DNS使用大量域名服务器，以层次方式组织，所有映射分布在所有的DNS上，主要有4种类型域名服务器：<br>①根域名服务器：<br>最高层次域名服务器，所有根域名服务器都知道所有的顶级域名服务器的IP地址，共有13个，通常它不把域名直接转换成IP地址，而是告诉本地域名服务器下一步应该找哪个顶级域名服务器。<br>②顶级域名服务器：<br>负责管理在该顶级域名服务器注册的所有二级域名，收到DNS查询请求的时候给出相应应答（有可能是结果，也有可能是下一步找哪个域名服务器的IP地址）<br>③授权域名服务器（权限域名服务器）：<br>每台主机必须在授权域名服务器处登记，为了更可靠工作，一台主机最好有至少两个。<br>④本地域名服务器：<br>每个ISP/大学/院系甚至都有一个本地域名服务器，当一个主机发送DNS请求的时候，这个查询请求报文发送给该主机的本地域名服务器。  <img src="/2022/050732155/5.jpg" class="">   <h3 id="域名解析过程"><a href="#域名解析过程" class="headerlink" title="域名解析过程"></a>域名解析过程</h3></li><li>把域名解析成IP地址为正向解析，或者反向解析。客户机需要域名解析的时候，通过本机DNS构造一个DNS请求报文以UDP数据报形式发往本地域名服务器。  </li><li>域名解析有两种方式：递归查询和迭代与递归结合查询。  <img src="/2022/050732155/6.jpg" class="">    <img src="/2022/050732155/7.jpg" class="">    <h2 id="文件传输协议FTP"><a href="#文件传输协议FTP" class="headerlink" title="文件传输协议FTP"></a>文件传输协议FTP</h2><h3 id="FTP工作原理"><a href="#FTP工作原理" class="headerlink" title="FTP工作原理"></a>FTP工作原理</h3></li><li>FTP是因特网是商用最广泛的文件传输协议，提供交互式的访问，允许客户指明文件的类型与格式，并允许文件具有存取权限，适合在异构网络任意计算机之间传送文件。  </li><li>提供以下功能：<br>①提供不同种类主机系统之间的文件传输能力。<br>②以用户权限管理的方式提供用户对远程FTP服务器上的文件管理能力。<br>③以匿名FTP的方式提供公用文件共享的能力。  </li><li>使用TCP，C/S模型，一个FTP服务器进程可同时为多个客户进程提供服务，FTP服务器进程由两大部分组成：一个主进程负责接收新请求，若干从属进程，负责处理单个请求。  </li><li>工作步骤：<br>①打开熟知端口21，使得客户进程能够连接上。<br>②等待客户进程发来连接请求。<br>③启动丛书进程处理客户进程发来的请求，主进程和从属进程并发执行，从属进程对客户进程的请求处理完毕后终止。<br>④回到等待状态，继续接收其他客户进程的请求。</li><li>FTP服务器必须在整个会话期间保留用户的状态信息，特别是必须把指定用户和控制连接联系起来，服务器必须追踪用户在远程目录树上的当前位置。  <h3 id="控制连接与数据连接"><a href="#控制连接与数据连接" class="headerlink" title="控制连接与数据连接"></a>控制连接与数据连接</h3></li><li>FTP工作使用两个并行TCP，一个控制连接（端口21），一个数据连接（端口20），使用两个不同端口使得协议更加简单和容易实现。  </li><li>控制连接：<br>21端口，等待客户连接，建立在这个端口上称为控制连接，用来传输控制信息（连接请求，传送请求等），不用来传送文件，一直保持打开状态。  </li><li>数据连接：<br>20端口，服务器端的控制进程在接收到FTP客户发来的文件传输请求之后，创建“数据传送进程”和“数据连接”，数据连接来连接C和S的数传送进程，而进程实际完成文件的传送，结束关闭“数据传送连接”并结束运行。<br>数据连接两种模式：主动PORT，被动PASV。<br>①PORT工作原理：客户端连接到21，登陆成功读取数据时，客户端随机开一个端口，并发送命令告知服务器，服务器收到PORT命令和端口号，通过20端口和客户端开放的端口号连接，发送数据。<br>②PASV不同点是：客户端读取数据，发送PASV到服务器，服务器随机开一个端口告知客户端，客户端再连接到服务器开放的端口进行书传书。<br>但两种模式，选择权都在客户端，主动模式就是服务器连接到客户端端口，被动模式就是客户端连接到服务器端口。  <h2 id="电子邮件"><a href="#电子邮件" class="headerlink" title="电子邮件"></a>电子邮件</h2><h3 id="电子邮件系统的组成结构"><a href="#电子邮件系统的组成结构" class="headerlink" title="电子邮件系统的组成结构"></a>电子邮件系统的组成结构</h3></li><li>一个电子邮件系统最主要三个组成构件：用户代理，邮件服务器，电子邮箱使用的协议（如SMTP，POP3或IMAP）等。  </li><li>用户代理：用户与电子邮件系统的接口，用户代理给用户提供一个友好接口发送接收邮件，通常情况下就是一个运行在PC上的程序，比如Foxmail等。  </li><li>邮件服务器：功能就是收发邮件，同时向发信人报告邮件传送情况，采用C/S模型工作，但它必须都能充当C和S。  </li><li>邮件发送协议和读取协议：邮件发送协议用于用户代理向邮件服务器发送邮件或在邮件服务器之间发送邮件，如SMTP。邮件读取协议用于用户代理从邮件服务器读取邮件，如POP3。且SMTP用的是PUSH的方式，即用户代理向邮件服务器发送邮件以及邮件服务器之间转发邮件时，SMTP客户把邮件”推“向服务器，而POP3则是”拉“（PULL），读取邮件，用户代理向服务器发出请求，拉取用户邮箱中的邮件。  <img src="/2022/050732155/8.jpg" class="">   <h3 id="电子邮箱格式与MIME"><a href="#电子邮箱格式与MIME" class="headerlink" title="电子邮箱格式与MIME"></a>电子邮箱格式与MIME</h3></li><li>电子邮箱格式：<br>分为信封和内容两大部分，内容又分为首部和主题两部分。RFC 822规定了邮件的首部格式，而邮件的主题部分则让用户自由撰写。用户写好首部之后，邮件系统自动地把信封所需的信息提取出来写在信封上，用户不需要亲自填写信封上的信息。<br>邮件内容首部包含一些首部行，每个首部行由一个关键字后跟冒号再根值组成，有些关键字必须的，有些则是可选的，最重要的是To：，Subject：。<br>To是必须关键字，后面填入一个/多个收件人电子邮件，规定格式为：收件人邮件名@邮件所在主机域名。Subject是可选关键字，是邮件主题，反映了邮件主要内容。From也是必须，但它通常被邮件系统自动填入，从上到下Form，To，Subject，组成了首部。  </li><li>多用途网际邮件扩充MIME：<br>SMTP只能传送一定长度的ASCII码，许多非英语国家文字无法传送，且无法传送可执行文件及其他二进制对象，一次提出了MIME。MIME并非取代SMTP或改动它，而是增加了邮件主题的结构，定义了传送非ASCII码的编码规则。  <h3 id="SMTP和POP3"><a href="#SMTP和POP3" class="headerlink" title="SMTP和POP3"></a>SMTP和POP3</h3></li><li>SMTP:<br>简单邮件传输协议SMTP，可靠有效的电子邮件传输协议，控制两个相互通信的SMTP进程交换信息，由于SMTP使用C/S模型，因此负责发送邮件的SMTP进程就是SMTP客户，负责接收的SMTP进程就是SMTP服务器，用TCP连接，端口号为25。有三个阶段：<br>①连接建立：<br>发件人邮件发送到发送方邮件服务器邮件缓存中，SMTP每个一段时间骚猫一次，有邮件则用25端口与接收方邮件的SMTP服务器建立TCP连接，之后接收方服务器发出220 Service ready，然后SMTP客户向SMTP服务器发出HELO指令，附上发送方的主机名。<br>②邮件传送：<br>连接建立之后，开始传送邮件，邮件从MAIL命令开始，若SMTP服务器已经准备好接收邮件，则回答250 OK，接着SMTP客户端发送一个或多个RCPT命令，格式为RCPT TO&lt;收件人地址&gt;，每发送一个RCPT命令，都应有相关信息从STMP服务器返回，如250 OK或者550 No such user here。（RCPT命令作用是先弄清服务器是否已经做好接收邮件准备，再发送邮件，不至于白发送错误地址）。<br>获取OK回答之后，客户端使用DATA命令，表示要开始传输邮件的内容，正常SMTP服务器回复信息是354 Start mail input;end with CRLF.CRLF。此时SMTP客户端就可以开始传送邮件内容。<br>③连接释放：<br>SMTP客户应发送QUIT命令，服务器返回221，表示SMTP同意释放连接。  </li><li>POP3和IMAP：<br>POP3：邮局协议POP是一个简单但功能有限的邮件读取协议，采用PULL的方式，用户读取邮件则向服务器发出请求，拉取用户邮箱中的邮件。也是用C/S模型，使用TCP，端口110。有两种运行方式：”下载并保留“和”下载并删除“。<br>IMAP：它比POP复杂很多，为用户提供了创建文件夹，不同文件夹移动邮件等命令，为此IMAP服务器维护了会话用户的状态信息。IMAP另一个特性就是允许用户代理只读部分内容。  <h2 id="万维网WWW"><a href="#万维网WWW" class="headerlink" title="万维网WWW"></a>万维网WWW</h2><h3 id="WWW的概念与组成结构"><a href="#WWW的概念与组成结构" class="headerlink" title="WWW的概念与组成结构"></a>WWW的概念与组成结构</h3></li><li>万维网是一个分布式，联机式的信息存储空间，万物有一个全域同一资源定位符URL标识，资源通过超文本传输协议HTTP传送给使用者，后者通过单机链接获取资源。万维网的内核部分由三个标准组成：<br>①统一资源定位符URL：标识万维网上各种文档，且每个都有URL。<br>②超文本传输协议HTTP：使用TCP链接，万维网客户程序和服务器程序之间交互必须遵循的规则。<br>③超文本标记语言HTML：一种文档结构标记语言，使用一些约定的标记对页面信息，格式进行描述。  </li><li>URL格式：协议：//主机：端口/路径。  </li><li>万维网以C/S方式工作，浏览器是在用户主机上的万维网客户程序，而万维网文档所驻留的主机则是运行服务器程序，称为万维网服务器，工作流程是：<br>①Web用户使用浏览器指定URL与Web服务器建立连接，并发送浏览请求。<br>②Web服务器把URL转换为文件路径，并返回给Web浏览器。<br>③通信完成，关闭连接。<br>万维网是无数个网站和网页集合，构成了因特网最主要的部分。   <h2 id="超文本传输协议HTTP"><a href="#超文本传输协议HTTP" class="headerlink" title="超文本传输协议HTTP"></a>超文本传输协议HTTP</h2></li><li>HTTP定义浏览器怎么向万维网服务器请求万维网文档，以及服务器怎么把文档传给浏览器，是面向事务的应用层协议。  </li><li>HTTP操作过程：<br>浏览器访问WWW服务器，首先完成对WWW域名解析获得IP地址，通过TCP向服务器发送连接。大致工作过程：每个万维网站点有一个服务器进程，不断监听TCP端口80，监听到连接请求就建立连接，然后，浏览器通过向服务器发送请求获取某个Web页面的HTTP请求，服务器返回Web页面必须信息，通过HTTP响应返回给浏览器，浏览器再进行信息解释，然后把Web页面显示给用户，最后TCP连接释放。  <img src="/2022/050732155/9.jpg" class="">    </li><li>HTTP特点：<br>①使用TCP保证可靠传输。<br>②HTTP无状态，服务器不记住HTTP状态，但可以通过Cookie加数据库的方式来跟踪用户活动。<br>③HTTP既可以使用非持久连接，也可以使用持久连接。<br>对于非持久连接，每个网页对象都需要单独TCP连接，万维网服务器负担重。<br>对于持久连接，万维网服务器发送响应之后仍然保持这链接，同一个客户和该服务器可以继续在这条连接上 传送后续HTTP请求和响应报文。  <img src="/2022/050732155/10.jpg" class="">     </li><li>HTTP报文结构：<br>①面向文本的，每个字段都是ASCII码串，每个字段长度不固定，有两类:请求报文（客户向服务器发）和响应报文（服务器到客户的回答）。<br>②HTTP两个报文都是三部分组成：开始行，首部行，实体主体<img src="/2022/050732155/11.jpg" class="">  </li><li>常见应用层协议小结：  <img src="/2022/050732155/12.jpg" class="">  <h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2></li><li>互联网，因特网，万维网：<br>互联网：泛指多个计算机网络按照一定通信协议相互连接而成的一个大型计算机网络。<br>因特网：世界最大全球性互联网络，最大的互联网。<br>万维网：无数网站和网页集合，构成因特网最主要部分。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络传输层</title>
      <link href="/2022/05076519.html"/>
      <url>/2022/05076519.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络传输层"><a href="#计算机网络传输层" class="headerlink" title="计算机网络传输层"></a>计算机网络传输层</h1><img src="/2022/05076519/1.jpg" class="">  <h2 id="传输层提供的服务"><a href="#传输层提供的服务" class="headerlink" title="传输层提供的服务"></a>传输层提供的服务</h2><h3 id="传输层的功能"><a href="#传输层的功能" class="headerlink" title="传输层的功能"></a>传输层的功能</h3><ul><li>传输层向应用层提供通信服务，属于面向通信的最高层，也是用户功能的最低层。它为运行在不同主机的进程之间提供了逻辑通信，而网络层则是不同主机之间的网络通信，即使网络层协议不可靠，传输层同样能为应用程序提供给可靠的服务。   </li><li>网络边缘部分的两台主机使用网络核心部分的功能进行端到端通信，只有主机的协议栈才有传输层和应用层，而路由器转发分组用了下三层的功能，如图：   <img src="/2022/05076519/2.jpg" class="">  </li><li>功能：<br>①传输层提供应用进程之间的逻辑通信，而网络层提供主机之间的逻辑通信。（应用进程之间的通信实际是“端到端的逻辑通信”，实际上逻辑通信就是好像沿着水平方向传输数据，但物理上并没有一条物理连接。）<br>②复用和分用：复用指的是发送方不同应用进程都可以使用同一个传输层协议传输数据。分用指的是接收方的传输层剥去报文的首部之后能够把这些数据正确交付到目的应用进程。（网络层也有复用分用，复用是把发送方不同协议数据都可以封装成IP数据报发送出去，分用是把接收方的网络层剥去首部后把数据交付给相应协议。）<br>③传输层还要对收到的报文进行差错检测（首部和数据部分），而网络层只监测IP数据报的首部，不检查数据部分。<br>④提供两种不同协议UDP和TCP，而网络层无法同时实现两种协议。（要么面向连接虚电路，要么无连接数据报。）  <h3 id="传输层的寻址与端口"><a href="#传输层的寻址与端口" class="headerlink" title="传输层的寻址与端口"></a>传输层的寻址与端口</h3></li><li>端口的作用：<br>①端口可以让应用层的各个应用进程将其数据通过该端口向下交付给传输层，以及让传输层知道应当将其报文段中的数据向上通过端口交付给应用层的相应进程。端口就是传输层服务访问点（TSAP），它在传输层作用类似于IP地址在网络层/MAC地址在数据链路层，只不过IP/MAC标记的是主机，而端口标识的是主机中的应用进程。<br>②硬件端口是不同硬件设备进行交互的端口，软件端口是应用层各种协议进程与传输实体进行层间交互的一种地址。   </li><li>端口号：<br>应用进程之间通过端口号进行标识，长度为16比特，能够标识2的16次方个进程，只有本地意义，即端口号只标记本计算机应用层的各种进程，分两类：<br>①服务器端使用的端口号，又分为两类：一类是熟知端口号，0——1023，派发给最重要的应用程序，另一类是等级端口号，1024——49151，提供给其他应用程序使用。<br>一些熟知端口号：FTP——21，TELNET——23，SMTP——25，DNS——53，TFTP——69，HTTP——80，SNMP——161。<br>②客户端使用的端口号，49152——65535。由于这类端口号仅在客户进程运行时才动态选择，又称为短暂端口号，通信结束后更用过的客户端端口号不复存在，该端口就可以重新使用。  </li><li>套接字：<br>IP标识不同主机，端口号标识不同进程，则端口号拼接到IP地址即套接字。<br>socket=（IP地址：端口号）  <h3 id="无连接服务与面向连接服务"><a href="#无连接服务与面向连接服务" class="headerlink" title="无连接服务与面向连接服务"></a>无连接服务与面向连接服务</h3></li><li>TCP是面向连接的服务，在传送数据之前必须建立连接，数据传送结束后释放连接，不提供组播/广播，不可避免的增加许多开销（确认，流量控制，计时器，连接管理），适用于可靠性更重要的场合，如：文件传输协议FTP，超文本传输协议HTTP，远程登录TELNET等。  </li><li>UDP是无连接的非可靠传输层协议，它在IP上仅附加两个服务：多路复用和对数据的错误检查。IP知道投放哪个主机但不知道哪个进程。UDP比较简单，因此执行速度快，实时性好，如：小文本传送协议TFTP，DNS，SNMP，实时传输协议RTP等。</li><li>IP数据报和UDP数据报区别：IP数据报在网络层要经过路由存储转发，而UDP数据报在传输层端到端的逻辑信道中传输，封装成IP数据报在网络层传输时对外不可见。  </li><li>TCP和网络层虚电路区别：TCP报文在传输层抽象的逻辑信道中传输，对路由器不可见，虚电路经过交换节点必须保存虚电路状态信息，则网络层使用虚电路则无法提供无连接服务，而传输层采用TCP不影响网络层提供无连接服务。  <h2 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h2><h3 id="UDP数据报"><a href="#UDP数据报" class="headerlink" title="UDP数据报"></a>UDP数据报</h3></li><li>UDP概述：<br>UDP是无连接的非可靠传输层协议，它在IP上仅附加两个服务：多路复用和对数据的错误检查，应用程序几乎直接与IP打交道。<br>优点：<br>①无须连接，没有建立连接时延。<br>②无连接状态，不跟踪确认等参数，因此使用UDP的时候可以支持更多的活动客户机。<br>③分组首部开销小，TCP有20B的首部开销，UDP只有8B的开销。<br>④应用层更好控制要发送的数据和发送时间。<br>⑤支持1-1，1-N，N-1，N-N的服务。<br>常用于一次性传输较少的网络应用，如DNS，SNMP等，如果用TCP则开销大（数据少性价比低）。UDP常用于多媒体应用等，因为可靠性不是最重要的，实时性才是。<br>UDP不保证可靠传输，不意味着应用对于数据要求是不可靠的，维护可靠性工作交给应用层来做。<br>UDP是面向报文的，发送方UDP对应用层交下来的报文，在添加首部之后就向下交付给IP层，一次发送一个报文，不合并不拆分，保留报文边界。一次交付一个完整报文，因此报文不可分割，是UDP数据报的最小单位。因此应用程序必须选择大小合适的报文，太长则会分片，太短则首部相对太长，两者都会降低IP层的效率。  </li><li>UDP首部格式：<br>首部有8B，四个字段组成，每个长为2B：<br>①源端口：源端口号，需要对方回信的时候，不需要可以为0。<br>②目的端口：目的端口号，在终点交付报文时必须用到。<br>③长度：UDP数据报长度，最小数8（仅有首部，没有数据）。<br>④校验和：监测UDP数据报传输中是否出错，出错丢弃，当不想校验时可使字段为0。  <img src="/2022/05076519/3.jpg" class="">    当传输层从IP获得UDP数据报的时候，就根据首部中目的端口号传送给相应端口进行分用。如果UDP发现收到端口号不正确，则丢弃该报文且由ICMP发送“端口不可达”给发送方。  <h3 id="UDP校验："><a href="#UDP校验：" class="headerlink" title="UDP校验："></a>UDP校验：</h3>计算校验和时，需要在UDP首部加上12B伪首部，得到一个临时UDP数据报，单纯为了计算校验和。检查首部和数据部分。<img src="/2022/05076519/4.jpg" class="">     计算过程：<br>发送方把全0放入校验和字段并添加伪首部，把UDP数据报视为许多16位字符串连接起来，若UDP数据报数据部分不是偶数个字节，需要填充一个全0字节（但不发送），按照二进制反码运算16位字的和，把此和的二进制反码写入校验和字段并发送。<br>接收方收到UDP数据报加上伪首部后，按二进制反码求16位字的和，无差错则全是1，否则有差错丢弃数据报。  <img src="/2022/05076519/5.jpg" class="">   注意：<br>校验时，若UDP数据报数据部分长度不是偶数，则填充一个偶数字节。<br>这种检错能力不强，但优点是简单，处理速度快。  <h2 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h2><h3 id="TCP协议特点"><a href="#TCP协议特点" class="headerlink" title="TCP协议特点"></a>TCP协议特点</h3></li><li>TCP在不可靠IP层之上实现的可靠的数据传输协议，它主要解决传输的可靠，有序，无丢失，不重复，特点如下：<br>①TCP是面向连接的。<br>②每条TCP只有两个端点，只能是点对点的。<br>③TCP传输的可靠，有序，无丢失，不重复。<br>④TCP提供全双工通信，两端都有发送和接收缓存，临时存放双向通信的数据。<br>其中发送缓存存放的是：①发送应用程序传送给发送发TCP准备发送的数据。②TCP以发送但尚未收到确认的数据。<br>接收缓存存放的是：①按序到达但未被接收应用程序读取的数据。②不按序到达的数据。<br>⑤TCP是面向字节流的，虽然应用程序和TCP交互是一次一个数据块，但TCP把应用程序交下来的数据仅视为玉莲船的无结构的字节流。  </li><li>TCP和UDP在发送报文时采用的方式完全不同，UDP报文的长度由发送应用程序决定，而TCP报文长度则根据接收方给出的窗口值和当前网络拥塞程度来决定。如果应用程序传送到TCP缓存数据块太长了，TCP就把它划分短一些再传送，太短也可以积累到组成够多字节再组成报文段发送出去。  <h3 id="TCP报文段"><a href="#TCP报文段" class="headerlink" title="TCP报文段"></a>TCP报文段</h3></li><li>TCP传送的数据单元是报文段，既可以来运送数据，又可以建立连接，释放连接和应答。一个TCP报文段分为首部，数据两部分，整个TCP报文段作为IP数据报的数据部分。首部前20B都是固定的，最短20B。  <img src="/2022/05076519/6.jpg" class="">  </li><li>各个字段意义：<br>源端口和目的端口：各占2B，端口是运输层和应用层的服务接口，运输层的复用和分用都需要通过端口实现。<br>序号：占4B，一共2的32次方个序号，TCP面向字节流，所以每个字节都需要按顺序编号，指的是本报文段所发送的数据的第一个字节的序号。<br>确认号：占4B，期望收到对方下一个报文段的第一个数据字节的序号，若确认号为N，咋表明N-1的所有数据都已经正确收到。<br>数据偏移：占4位，指出TCP报文段数据起始位置距离TCP报文段的起始处有多远。单位是32位，因此字段为15的时候，TCP首部最大长度是60B.<br>保留：占6位，保留位今后使用，先置为0.<br>紧急位URG：为1时标识紧急指针字段有效，告诉系统此报文段由紧急数据，应尽快传送，但需要配合紧急指针使用，即数据从第一个字节到紧急指针所指字节就是紧急数据。<br>确认位ACK：仅当ACK=1时确认号字段才有效，当为0的时候，确认号无效。TCP规定，连接建立之后所有报文段都是ACK=1。<br>推送位PSH：接收方TCP收到PSH=1的报文段，尽快把它交付给应用程序，不等到缓存充满再交付。<br>复位位RST：RST=1时表明TCP连接中出现严重差错，必须释放连接，然后再重新连接。<br>同步位SYN：SYN=1时表明这是一个连接请求，当SYN=1且ACK=0的时候表明这是一个请求连接报文，对方同意连接则响应报文中SYN=1，ACK=1。<br>终止位FIN：释放一个连接，当FIN=1，表明此报文段的发送方的数据以及发送完毕，并要求释放连接。<br>窗口：占2B，指出现允许对方发送的数据量，接收方的数据缓存有限，因此用窗口值作为接收方让发送方设置其发送窗口的依据。（设为1000，说明接收缓存空概念还有1000字节数据）<br>校验和：占2B，校验和检验数据部分和首部，和UDP一样，加入12B的伪首部。<br>紧急指针：占2B，紧急指针仅在URG=1时有意义，指出在本报文段中紧急数据共多少字节。<br>选项：长度可变，TCP最初只规定了一个选项，即最大报文长度MSS。（数据部分最大长度）<br>填充：为了使得整个首部长度是4B的整数倍。  <h3 id="TCP连接管理"><a href="#TCP连接管理" class="headerlink" title="TCP连接管理"></a>TCP连接管理</h3></li><li>三个阶段：连接建立，数据传送，连接释放。TCP连接的管理就是使运输连接的建立和释放都能正常进行。  </li><li>TCP连接建立过程，解决三个问题：<br>①使得每一方都能够确知对方存在。<br>②允许双方协商一些参数。<br>③能够对运输实体资源进行分配。<br>TCP连接两端的端口为套接字socket或插口，每条TCP被唯一的两个套接字确定，采用C/S方式，主动发起连接建立的应用进程称为客户Client，而被动等待连接建立的应用进程称为服务器Server。  </li><li>TCP连接建立：“三次握手”  <img src="/2022/05076519/7.jpg" class="">  连接建立之前，服务器进程属于LISTEN状态等待客户连接请求。<br>①客户机的TCP首先向服务器的TCP发送连接请求报文段，这个特殊报文段的首部中的同步位SYN=1，同时选择一个初始序号seq=x。TCP规定，SYN报文段不可以携带数据，但要消耗掉一个序号。这时，TCP客户端进程进入SYN-SENT状态。<br>②服务器的TCP收到连接请求报文段后，如果同意连接，则向客户机发挥确认，并为该TCP连接分配缓存和变量。在确认报文段中，把SYN和ACK都置为1，确认号是ack=x+1，同时也为字节选择的一个初始序号seq=y。注意，确认报文段不能携带数据，但也消耗一个序号。这时，TCP服务器进程进入SYN-RCVD状态。<br>③当客户机收到确认报文的时候，还要向服务器给出确认，并且为该TCP分配缓存和变量，确认报文段的ACK为1，确认号ack=y+1，序号为seq=x+1。该报文段可以携带数据，若不携带数据则不消耗序号。这时TCP客户进程进入了ESTABLISHED状态。<br>之上三步就连理了TCP连接，接下来就可以传送应用层数据了，全双工通信。值得注意的是：服务器端分配资源是在第二次握手的时候分配的，客户端的资源是在第三次握手时分配的。  </li><li>TCP连接的释放：“四次挥手”  <img src="/2022/05076519/8.jpg" class="">   ①客户机打算关闭连接，向TCP发送连接释放报文段，并停止发送数据，主动关闭TCP连接，该报文端的终止位FIN=1，序号seq=u，它等于前面已经传送过的数据的最后一个字节的序号+1，FIN报文段即使不携带数据，也消耗掉一个序号。这时，TCP客户进程进入FIN-WAIT-1状态，但TCP全双工，即一条TCP连接上有两条数据通路，发送FIN的一端不可以发送数据，即关闭了一条数据通路，但对面还可以发送数据。<br>②服务器收到连接释放报文段后即发出确认，确认号ack=u+1，序号seq=v，等于前面已经传送过的数据的最后一个字节的序号+1，然后服务器进入CLOSE-WAIT状态，此时从客户机到服务器这个方向的连接就释放了，TCP连接处于半关闭状态，但服务器若发送数据，客户机仍要接受，即从服务器到客户机这个方向的连接并未关闭。<br>③若服务器已没有要向客户机发送的数据，就通知TCP释放连接，此时发出FIN=1的连接释放报文段，设该报文段的序号为w，还须重复上次已经发送的确认号ack=u+1。这时服务器进入LAST-ACK状态。<br>④客户机收到连接释放报文段之后，必须发出确认，把确认报文段中的确认位ACK置为1，确认号ack=w+1，序号seq=u+1.此时TCP连接还未释放，必须经过时间等待计时器设置的时间为2MSL（最长报文段寿命）后，客户机才进入CLOSED状态。  </li><li>总结：  <img src="/2022/05076519/9.jpg" class="">    <h3 id="TCP可靠传输"><a href="#TCP可靠传输" class="headerlink" title="TCP可靠传输"></a>TCP可靠传输</h3>保证接收方进程从缓存区读取的字节流和发送方发出的字节流完全一致。使用了校验，序号，确认，重传的机制来达到这个目的（校验和UDP一样，不赘述）。  </li><li>序号：<br>TCP首部的序号字段用来保证数据能有序提交给应用层，TCP把数据视为一个无结构但有序的字节流，序号建立在传送的字节流之上，而不建立在报文段之上。每个字节都有编号，但序号字段指的是本报文所发送的数据的第一个字节的序号。  </li><li>确认：<br>TCP首部的确认号是期望收到对方下个报文段的数据的第一个字节的序号，TCP默认使用累计确认，即只确认数据流中至第一个丢失字节为止的字节。（即使已经收到了6-7字节，但3字节丢失，确认号仍然是3）  </li><li>重传：<br>有两种事件导致TCP对报文段进行重传：超时和冗余ACK。<br>①超时：<br>TCP每发送一个报文段，就会设置一次计时器，重传时间到期仍未收到确认就重传。<br>由于路由选择变化大，时延方差很大，所以为了计算重传时间，TCP使用自适应算法，它记录一个报文段发出的时间，以及收到相应确认的时间，这两个时间之差称为报文段的往返时间（RTT），保留RTT加权平均往返时间RTTs，随着样本变化而变化，显然超时计时器设置的超时重传时间RTO应该略大于RTTs，但也不能太多，否则丢失时不能很快重传，导致数据传输时延过大。<br>②冗余ACK：<br>超时重传存在问题就是超时周期太长。但发送方可以在超时事件发生前通过注意所谓的荣誉ACK来较好地监测丢包情况。冗余ACK就是再次确认某个报文段的ACK，而发送方已经受到过该报文段的确认。TCP规定每当比期望序号大的失序报文段到达的时候，就发送i给冗余ACK，指明下一个期待字节的序号。当收到同一个报文段的3个冗余ACK时，就可以认为跟在这个被确认报文段之后的报文段已经丢失，这属于快速重传技术。  <h3 id="TCP流量控制"><a href="#TCP流量控制" class="headerlink" title="TCP流量控制"></a>TCP流量控制</h3></li><li>TCP流量控制来消除发送方使接收方缓冲区溢出的可能性，因此可以说流量控制是一个速度匹配服务。提供一种基于滑动窗口协议的流量控制机制，在通信过程中，接收方根据字节接收缓存的大小，动态调整发送方的发送窗口大小，这称为接收窗口rwnd，即调整TCP报文段首部中的“窗口”字段值，限制发送方向网络注入报文速率，同时发送方根据对齐当前网络拥塞程度估计而确定窗口值，称为拥塞窗口cwnd，其大小与网络带宽和时延密切相关。   <img src="/2022/05076519/10.jpg" class="">     </li><li>传输层和数据链路层的流量控制区别：<br>传输层定义端到端之间的流量控制，数据链路层定义两个中间相邻结点之间的流量控制，且数据链路层滑动窗口协议的窗口大小不能动态变化，而传输层的可以动态变化。  <h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3></li><li>拥塞控制是防止过多的数据注入网络，保证网络中的路由器/链路不至于过载。</li><li>拥塞控制与流量控制区别：拥塞控制让网络能够承受现有的网络负荷，是一个全局性过程，涉及所有的主机，路由器，以及与降低网络传输性能有关的所有因素，相反，流量控制则是点对点通信量控制，是端到端的维妮塔，只要抑制发送方速率以便于接收方来得及接收。  </li><li>因特网定义了拥塞控制的4种算法：慢开始，拥塞避免，快重传，快恢复。  </li><li>发送方确定发送报文段速率的时候，既要根据接收方接收能力，又要全局考虑不要使网络发生拥塞，因此TCP协议要求发送方维护以下两个窗口：<br>①接收窗口rwnd，接收方根据目前接收缓存大小所许诺的最新窗口值，反映接收方的容量，由接收方根据其放在TCP报文的首部窗口字段通知发送方。<br>②拥塞窗口cwnd，发送方根据自己估算的拥塞程度而设置的窗口值，反映当前容量，只要网络未出现拥塞，就可以把拥塞窗口再增大一些，以便把更多的分组发送出去，但只要网咯出现拥塞，拥塞窗口就减小一些。<br>③发送窗口上限=两者中小的那个。  </li><li>慢开始：<br>当TCP刚刚连接好并开始发送TCP报文段时，先令拥塞窗口cwnd=1，即一个最大报文段长度MSS，每收到一个对新报文段的确认cwnd就加一。这个慢开始的“慢”并不是cwnd增加速度慢，而是开始先发送第一个报文段，然后开始逐渐增大cwnd，这对防止网络出现拥塞是一个非常有力的措施。使用慢开始算法后，每经历一个RTT，cwnd都会加倍，即指数型增长，这样，慢开始增到一个规定的慢开始门限ssthresh，然后改用拥塞避免算法。  </li><li>拥塞避免算法：<br>思路就是让拥塞窗口cwnd缓慢增大，具体做法是，没经历一个RTT，要把发送方的拥塞窗口+1，而不是加倍，线性缓慢增长，根据cwnd大小执行不同算法，可归纳如下：<br>①cwnd小于ssthresh，使用慢开始算法。<br>②cwnd大于ssthresh，停止使用慢开始算法改用拥塞避免算法。<br>③cwnd等于ssthresh，两者均可以使用，通常使用拥塞避免算法。 </li><li>网络拥塞处理：<br>无论慢开始阶段还是在拥塞避免阶段，只要发送方判断网络出现拥塞（未按时收到通知），就要把慢开始门限ssthresh设置为拥塞发送方的cwnd值的一半，然后把cwnd重新设置为1，执行慢开始算法，目的是迅速减少主机发送到网络中的分组数，使得发生拥塞的路由器有足够时间把队列中积压的分组处理完。  <img src="/2022/05076519/11.jpg" class="">     拥塞控制不能完全避免，是使网络不容易出现拥塞。  </li><li>快重传：<br>快重传使用冗余ACK监测丢包发生，而且冗余ACK也用于网络拥塞，当发送方连续收到三个重复的ACK报文时，直接重传对方尚未收到的报文段，而不必等待报文段重传计时器。  </li><li>快恢复：<br>原理：当发送方连续收到三个重复的ACK报文时，执行“乘法减小”算法，把慢开始门限ssthresh设置为此时发送方cwnd的一半。这是为了预防网络发生拥塞，但放生发认为现在网络没有发生拥塞，否则不会有几个报文段连续到达接收方，也不会连续收到重复确认，因此与慢开始不同的是，它把cwnd值设置为慢开始门限ssthresh改变后的数值，然后开始执行拥塞避免算法（“加法增大”），跳过了从cwnd=1开始过程，所以称为“快恢复”。  <img src="/2022/05076519/12.jpg" class="">    </li><li>总结：TCP建立连接和网络超时时，采用慢开始和拥塞避免，当发送发接收到冗余ACK时，采用快重传和快恢复。快重传和快恢复是对慢开始和拥塞避免的一种改进。  <h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2></li><li>MSS设置太小，：网络利用率很低，如果TCP报文段只有1B数据，40B首部，则效率小于1/41，到了链路层还要进行开销，利用率进一步降低。<br>MSS设置太大：IP层传输进行分片，终端还要重组，传输有差错还要进行重传，都会增大开销。<br>所以，MSS应该尽量大些，只要到IP层不需要分片就行，最佳MSS很难确定，一般默认536B。  </li><li>最后一次挥手等待2MSL时间：<br>①保证A发送的最后一个确认报文段能够到达B，如果A不等待2MSL，若A返回最后确认报文段丢失，B就不能进入正常关闭状态，而A已经关闭无法重传。<br>②防止出现“已失效的连接请求报文段”，A发送最后一个确认报文段后，经过2MSL保证本连接持续时间内所有报文段从网络中消失。  </li><li>TCP和GBN区别：TCP正确收到但失序的报文不会丢弃而是缓存起来，并且发送冗余ACK指明期望收到的下一个报文段。而GBN就丢弃了。  </li><li>超时时间之后cwnd变为1，是因为拥塞程度更严重。<br>收到3个冗余ACK时cwnd减半，因为拥塞程度不是很严重，能收到冗余ACK。  </li><li>为什么不用“两次握手”建立连接？<br>为了防止两次握手情况下，已经失效的连接请求突然传送到服务器而产生错误。如果客户A向服务器B发出TCP连接请求，第一个连接请求报文长时间滞留，A超时认为丢失则重传，B收到之后建立连接，数据传输完毕断开连接，此时这个丢失的连接请求到达服务器B，而B认为A又发来连接请求，若使用“三次握手”，则B向A返回确认报文段，由于是一个失效的请求，因此A不予理睬，建立连接失败。  </li><li>TCP每次建立连接选择初始序号一定和前面的一些连接所用的序号不同。  </li><li>若网络不发生错误，无差错，TCP是不是多余？<br>不多余！！！<br>①数据到达目的结点会失序。<br>②由于路由计算错误，IP数据报在互联网中转圈，TTL=0，被丢弃。<br>③某个路由器通信量大处理不及时，有的数据报被丢弃。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线性代数</title>
      <link href="/2022/050628245.html"/>
      <url>/2022/050628245.html</url>
      
        <content type="html"><![CDATA[<h1 id="线性代数"><a href="#线性代数" class="headerlink" title="线性代数"></a>线性代数</h1><h2 id="逆序数"><a href="#逆序数" class="headerlink" title="逆序数"></a>逆序数</h2><p>有一个排列P1P2P3PiPjPn，若Pi&gt;Pj，则称Pi和Pj为逆序，一个排列中所有逆序的全体叫做逆序数。  </p>  ]]></content>
      
      
      <categories>
          
          <category> 线性代数 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 线性代数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络网络层</title>
      <link href="/2022/05033405.html"/>
      <url>/2022/05033405.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络网络层"><a href="#计算机网络网络层" class="headerlink" title="计算机网络网络层"></a>计算机网络网络层</h1><img src="/2022/05033405/1.jpg" class=""><h2 id="网络层的功能"><a href="#网络层的功能" class="headerlink" title="网络层的功能"></a>网络层的功能</h2><p>网络层设计思路就是，向上提供简单灵活，无连接，尽最大努力交付的数据报服务。如果主机中进程之间的通信需要可靠的，可以由更高层的传输层负责。  </p><h3 id="异构网络互联"><a href="#异构网络互联" class="headerlink" title="异构网络互联"></a>异构网络互联</h3><ul><li>把全球网络互联需要解决不同的问题，网络层任务之一就是互联它们。所谓互联就是把两个及以上计算机网络通过一定方法，用一种/多种通信设备互相连接成为更大的网络系统，中间设备又称为中间系统/中继系统。  </li><li>中继系统分为四种：①物理层中继系统：中继器，集线器。②数据链路层中继系统：网桥，交换机。③网络层中继系统：路由器。④网络层以上的中继系统：网关。</li><li>但物理层的中继系统只是扩大网络，不算是互联，因此网络互联指的是路由器进行网络互连和路由选择。</li><li>由于参加互联的网络都使用相同的网际协议（Internet Protocol,IP）,因此把互联后的计算机网络视为全部连接到一个虚拟的IP网络，看不见网络异构的细节。  <h3 id="路由与转发"><a href="#路由与转发" class="headerlink" title="路由与转发"></a>路由与转发</h3></li><li>路由器珠岙两个功能：路由选择，分组转发。</li><li>路由选择：根据特定路由选择协议构造出路由表，同时经常和相邻路由器交换信息不断更新维护路由表。得到整个网络拓扑变化情况，动态改变所选择路由。  </li><li>分组转发：转发表查询，转发，已经相关队列管理和任务调度等。由转发表把用户IP数据报从合适端口转发出去。</li><li>路由表根据路由选择算法计算出的，而转发表是从路由表得出的，转发表的结构应当使得查找最优化，路由表则需要对网络拓扑变化的计算最优化，往往笼统都是用路由表一词。<h3 id="拥塞控制"><a href="#拥塞控制" class="headerlink" title="拥塞控制"></a>拥塞控制</h3></li><li>通信子网中过量分组引起网络性能下降称为拥塞。一旦分组到达路由器速率到达带宽附近则时延就急剧增加，且大量分组被丢弃。</li><li>判断是否进入拥塞方法：看网络吞吐量与负载的关系。如果随着网络负载增加，吞吐量明显小于正常，则轻度拥塞，吞吐量减小则可能已经拥塞，吞吐量讲到零则进入死锁状态。</li><li>作用就是：确保子网能够承载所达到的流量，全局性的过程，涉及各方面的行为：主机，路由器及路由器内部的转发处理等过程。单一增加资源并不能解决拥塞控制。</li><li>拥塞控制与流量控制区别：流量是两端点对点通信量的控制，只需要限制发送速率。而拥塞控制必须保证通信子网能够传送待传送的数据，是全局性的，涉及所有主机，路由器以及导致网络传输能力下降的所有因素。</li><li>方法有两种：<br>①开环控制：设计网络前把因素考虑周到，力求网络工作不产生拥塞，这是静态预防的方法，一旦系统启动就不修改。手段包括：何时确定可接收新流量，何时丢弃分组，丢弃哪些分组，确定调度策略等，总之不考虑当前网络状态。静态的方法。<br>②闭环控制：设计网络前不考虑因素，采用监测系统及时监测哪里发生拥塞，把拥塞信息传送到合适地方，调整整个系统运行，动态的方法。<h2 id="路由算法"><a href="#路由算法" class="headerlink" title="路由算法"></a>路由算法</h2><h3 id="静态路由和动态路由"><a href="#静态路由和动态路由" class="headerlink" title="静态路由和动态路由"></a>静态路由和动态路由</h3></li><li>路由器转发分组通过路由表转发，而表则从算法得到的，路由算法分两类：<br>①静态路由算法（非自适应路由算法）：需要网络管理员手工配置的路由信息，网络拓扑结构或链路状态发生变化的时候，需要手工配置，不能及时更新网络状态，适用于简单小型网络。<br>②动态路由算法（自适应路由算法）：路由器相邻之间彼此交换信息，按照一定比例游湖出来，则这些路由信息在一定时间间隙不断更新，随时获得最优寻路效果。</li><li>静态路由简单开销小，拓扑变化不大的网络效果好。动态路由算法负责增加网络负担，反应太快引起震荡，太慢引起路由不一致。动态有两种方法：距离-向量路由算法，链路状态路由算法。<h3 id="距离-向量路由算法（DV）"><a href="#距离-向量路由算法（DV）" class="headerlink" title="距离-向量路由算法（DV）"></a>距离-向量路由算法（DV）</h3></li><li>所有结点都定期把它的路由选择表传送给所有与之直接相连的结点，路由选择表包括每条路径目的地和代价。所有结点都监听从其他结点传来的路由选择更新信息：<br>①当被通告一条新的路由，该路由在本结点路由表中不存在，此时本地系统加入这条新路由。<br>②当发来的路由信息中有一个到达某个目的地路由更短距离（更小代价）则替代原路由。  </li><li>实质是：迭代计算一条路由中的站段数或延迟时间，从而得到到达一个目标的最短通路。但更新信息与子网结点个数成正比。  </li><li>最常见的距离-向量路由算法是RIP算法，采用”跳数“作为距离度量。  <h3 id="链路状态路由算法（LS）"><a href="#链路状态路由算法（LS）" class="headerlink" title="链路状态路由算法（LS）"></a>链路状态路由算法（LS）</h3></li><li>要求每个参与结点都具有完全的网络拓扑信息，执行两步骤：①主动测试所有临界点状态，②定期把链路状态传播给所有其他结点。一个结点检查链路状态，并把状态信息传给全网所有结点（不是相邻结点），每个结点都通过这种方式接收状态信息，通过这些状态信息来更新自己网络拓扑和状态图，一旦链路发生变化，则利用Dijkstra算法重新计算路由，计算单源最短路径。最常用的链路状态路由算法是OSPF算法。</li><li>三个特征：<br>①向本自治系统的所有路由器发送信息，使用泛洪法Flooding，即路由器通过所有端口向相邻路由器发送信息，而接收到之后又重复该过程（但不发给刚才发给自己的那个路由器）。<br>②发送的信息是与路由器相邻的所有路由器的链路状态，所谓”链路状态“就是本路由器与哪些路由器相邻以及链路的”度量“。对于OSPF算法，”度量“则是费用，距离，时延，带宽等。<br>③当链路状态发生改变才发送信息。  </li><li>优点：每个路由都独立计算自己的信息。链路信息不改变进行传播，易于查找故障。当一个结点接到所有其他节点的信息则可以计算自己的信息。<h3 id="层次路由"><a href="#层次路由" class="headerlink" title="层次路由"></a>层次路由</h3></li><li>当网络规模扩大时，路由表成比例扩大，不仅消耗路由器缓冲区空间，而且需要CPU更多时间来扫描路由表，更多带宽交换路由状态信息，因此必须按照层次方式进行。  </li><li>因特网把互联网划分许多小自治系统，每个系统都自主决定系统内采用何种路由选择协议，则两系统间通信就需要协议来屏蔽差异。</li><li>路由选择协议划分两大类：<br>①自治系统内部所使用的路由选择协议称为内部网关协议（IGP），也称域内路由选择，具体有RIP和OSPF。<br>②自治系统之间所使用的路由选择协议称为外部网关协议（EGP），也成为域间路由选择，具体有BGP。  </li><li>使用层次路由的时候，OSPF把自治系统再划分若干区域，每个路由器只需要自导自己区域如何路由即可。<h2 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h2><h3 id="IPv4分组"><a href="#IPv4分组" class="headerlink" title="IPv4分组"></a>IPv4分组</h3></li><li>IPv4即现在普遍使用的IP，IP定义数据传送的基本单元——IP分组以及确切的数据格式，也包括规则，指明分组如何处理，错误如何控制。特别是IP还包含了非可靠投递的思想，以及于此关联的分组路由选择的思想。</li><li>IPv4分组的格式：如图：  <img src="/2022/05033405/11.jpg" class="">  重要字段含义：<br>版本：IP的版本号，通常为4。<br>首部长度：占4位，最大进制15。<br>总长度：占16位，指的是首部和数据之和的长度，单位为字节，因此数据包最大长度为2的16次方-1=65535B，以太网MTU=1500B，因此IP数据报封装成帧的时候一定小于MTU。<br>标识：占16位。它是一个计数器，每产生一个数据报就加1，并且赋值给标识字段，但它并不是序号，因为IP不可靠服务，当一个数据报长度超过网络MTU时，必须分片，此时每个数据报片都需要复制一次标识号，以便能重新组装成原数据报。<br>标志：占3位，标志字段最低位为MF，MF=1表示后面还有分片，MF=0表示是最后一个分片，标志字段中间为DF，当DF为0的时候才允许分片。<br>片偏移：占13位，它指出较长的分组在分片之后，某片在原分组中的相对位置，片偏移以8个字节位偏移单位，每个分片的长度一定是8B的整数倍。<br>生存时间TTL：占8位数据报在网络中可以通过的路由器数量最大值，标识分组在网络中寿命，以确保不会永远在网络中循环。路由器在转发分组前，先把TTL减一，TTL=0丢弃分组。<br>协议：占8位，指出此分组携带的数据使用什么协议，即分组的数据部分应该交给那个传输层协议，如TCP，UDP等，其中值为6表示TCP，17表示UCP。<br>首部校验和：占16位，IP数据报首部校验和只校验分组的首部，不校验数据部分。<br>源地址字段：占4B，发送方IP地址。<br>目的字段：占4B，接收方IP地址。  </li><li>IP数据报分片：<br>①一个数据链路层数据报能承受的最大数据量为MTU，因为IP数据报被封装在链路层数据报中，因此MTU限制着IP数据报的长度。而且在IP数据报目的/源地可能不同的数据链路层协议，有不同的MTU。这时把IP数据报中数据分装在多个小的IP数据报中，称为片。<br>②片在目的地网络层被重新组装，目的主机使用IP首部标识，标志，片偏移字段来重组片，创建一个IP数据报的时候，源主机为该数据报加一个标识号，每个片的表示号一样，目的主机通过标识号来确定哪些片属于原始数据报。而IP首部中的标志位有3比特，但只有后2比特有意义，分别是MF和DF，DF为0时IP数据报才允许分片，MF=0代表后边还有片，MF=1代表是最后一片。目的主机重组的时候通过片偏移来确定数据报的各个片的位置。<br>③计算过程：  <img src="/2022/05033405/2.jpg" class="">   </li><li>网络层转发分组流程：<br>①从数据报首部提取目的主机IP地址D，得出目的网络地址N。<br>②若网络N与此路由器直接相连，则把数据报直接交付给目的主机D，这成为路由器的直接交付，否则是间接交付执行③。<br>③若路由器有目的地址为D的特定主机路由，则把数据报交给路由表中指定的下一跳路由器，否则执行④<br>④若路由表中有到达网络N的路由，则把数据报传给路由表中指定的下一跳路由器，否则执行⑤<br>⑤若路由表有一个默认路由，则把数据报传送给默认路由器，否则执行⑥<br>⑥报告转发分组出错。  <h3 id="IPv4地址与NAT"><a href="#IPv4地址与NAT" class="headerlink" title="IPv4地址与NAT"></a>IPv4地址与NAT</h3></li><li>IPv4地址：<br>①连接到互联网的每台主句都分配了一个32比特的全球唯一标识符，即IP地址，传统IP地址是分类的地址，分为ABCDE五类。由网络号+主机号组成，网络和标志主机所连接到的网络，一个网络号在整个互联网必须是唯一的，主机号标志该主机，主机号在该网络号范围内必须是唯一的，所以整个IP地址就是唯一的。<br>②五类IP地址：  <img src="/2022/05033405/3.jpg" class="">  ③各类IP地址有的不能用：<br>主机号全0表示网络本身，如202.98.174.0<br>主机号全为1表示本网络的广播地址，又称直接广播地址，如202.98.174.255</li></ul><p>127.0.0.0保留为环回自检地址，表示任意主机本身，目的地址为该地址的IP数据报用不会出现网络上。<br>32位全为0，0.0.0.0表示本网络上的本主机。<br>32位全为1，255.255.255.255表示整个TCP/TP网络的广播地址，但由于路由器隔离广播域，则认为它为本网络的广播地址。<br>④常用ABC网络IP地址使用范围：  </p><img src="/2022/05033405/4.jpg" class="">   <p>⑤重要特点：<br>IP是分等级的地址结构，好处是：IP地址管理机构分配IP地址时只分配网络号，而主机号由网络自行分配。路由器根据网络号转发分组，不考虑主机号，减小路由器所占存储空间。<br>IP地址标志一条主机和一条链路的接口，当主机同时连接两个网络的时候必须有两个IP地址，则一个路由器必然至少有两个IP地址。<br>IP地址所有分配到网络号的网络都是平等的。  </p><ul><li>网络地址转换：<br>①Network Address Translation，NAT，通过把专用网络地址转换为公用网络地址，对外隐藏内部管理的IP地址，使得整个专用网只需要一个全球IP地址就可以与因特网连通，由于本机IP地址可以重用，大大节省了IP地址消耗，同时隐藏内部网络结构，降低风险。<br>②为了网络安全，画出了部分IP地址为私有，私有IP地址只用于LAN，不用于WANianj，并且允许私有IP地址被LAN重复使用。在因特网中，路由器对于私有地址一律不予转发，称私有地址为专用互联网/本地互联网，<br>③使用NAT需要在专用互联网连接到因特网的路由器上安装NAT软件，NAT路由器至少有i一个有效的外部全球地址，NAT路由器使用NAT转换表把本地地址转换为全球地址或反向，这两个地址在转发表中是映射关系，可以多个私有IP地址映射到同一个全球地址。  <h3 id="子网划分与子网掩码，CIDR："><a href="#子网划分与子网掩码，CIDR：" class="headerlink" title="子网划分与子网掩码，CIDR："></a>子网划分与子网掩码，CIDR：</h3>①子网划分：<br>使得两级IP地址变为三级IP地址。子网划分属于内部事情，对外仍然表现为没有划分子网的网络，从主机号借用若干比特作为子网号，当然主机号也相应减少了相同的比特，三级IP地址=网络号+子网号+主机号。同样的路由器转发分组的时候现根据子网号找子网，再转发给目的主机。<br>注意：子网划分是把主机号再进行划分，不改变网络号。<br>②子网掩码：<br>对ABC类网络进行子网划分，必须使用子网掩码表示对于源网络中主机号的借位。它是一个32比特的二进制串，由一串1和跟随的0组成，1对应IP地址中网络号及其子网号，而0对应主机号，计算机只需要把它的IP地址和其对应的子网掩码逐位“与”就可以得到子网IP地址。未进行划分子网的有默认子网掩码：A类255.0.0.0，B类255.255.0.0，C类255.255.255.0。<br>子网掩码属于重要属性，所以路由器必须在相互交换路由信息的时候必须把自己所在的网络的子网掩码告诉对方，路由器每个条目，除了给出目的网络地址和下一跳地址外，还要给出目的网络的子网掩码。<br>③无分类域间路由选择（CIDR）：<br>无分类域间路由选择是在变长子网掩码基础上提出的一种消除传统ABC类网络划分，并且可以在软件支持下实现超网构造的一种IP地址划分方法。<br>特点：<br>CIDR使用网络前缀+主机号，即变成了无分类的IP地址。使用斜线技法——IP地址/网络前缀所占比特数。把网络前缀相同的连续IP地址组成“CIDR地址块”，一个CIDR地址块可以表示很多地址，称为路由聚合，使得原来多个传统网络分类地址的路由变成现在一个，减少路由器之间的路由选择信息的交换，提高网络性能。<br>优点在于网络前缀长度的灵活性，且使用最长前缀匹配。  <h3 id="ARP，DHCP，ICMP："><a href="#ARP，DHCP，ICMP：" class="headerlink" title="ARP，DHCP，ICMP："></a>ARP，DHCP，ICMP：</h3>①IP地址和硬件地址：<br>IP地址是网络层使用的分层地址。硬件地址则是数据链路层使用的平面式的地址（MAC地址），IP地址放在IP数据报的首部，而MAC地址放在MAC数据帧首部，通过数据封装把IP数据报分组封装成MAC帧之后，数据链路层看不见数据报分组中的IP地址。<br>由于路由器隔离，IP只能通过IP地址寻址，依靠路由表跳转到目标网络，改为在目标LAN中通过数据链路层的MAC地址以广播方式寻址。（路由器只根据目的地IP地址的网络号进行路由选择）<br>在局域网数据链路层只能看见MAC帧，通过路由器转发IP分组的时候，此IP分组在每个网络中都被路由器解封装和重新封装，因此MAC地址不断改变，所以MAC地址无法夸网络通信。<br>②地址解析协议ARP：<br>无论网络层使用什么协议，在实际网络的链路上传送数据帧的时候，最终必须使用硬件地址，所以需要从IP转化为MAC，这就是地址解析协议ARP，每台主机都有一个ARP高速缓存，用来存放本局域网上各主机和路由器的IP地址到MAC地址的映射表，称ARP表，使用ARP来动态维护此表。<br>工作在网络层：原理如下：主机A想向B发送数据报，先在其ARP告诉缓存中查看有无主机B的IP地址，有则查其MAC地址，再写入MAC帧，通过局域网发送到此MAC地址。没有则使用目的MAC地址为FF-FF-FF-FF-FF-FF的帧来封装并且广播ARP请求分组，使得同一个局域网里所有主机收到ARP请求。主机B收到ARP请求之后向主机A发出响应ARP分组，分组包含B的IP和MAC映射关系，A收到之后写入缓存，然后按照查询的MAC发送分组。（用于解决同一个局域网上的IP与MAC映射关系，不在同一个局域网就要通过ARP找到一个位于本局域网的路由器MAC地址，由这个路由器进行分组转发给下一个网络）<br>③动态主机配置协议（DHCP）：<br>常用给主机动态分配IP地址，提供了即插即用的机制，允许一台计算机加入新网络和获取IP地址而不用手工参与，是应用层协议，基于UDP。<br>工作原理：使用C/S方式，需要IP地址的主机向DHCP服务器广播发送发现报文成为其客户，本地网络上所有主机都能收到此广播报文，但只有DHCP服务器能回复，DHCP服务器在其数据库查找是否有该计算机配置，有则返回信息，无则从服务器IP地址取一个地址分配给该计算机，称为提供报文。<br>DHCP服务器可能多个，客户端只需要挑选一个接收信息即可，通常是最先到达的。且分配的IP地址为临时的，称为租用期，数值应该由DHCP服务器自己决定，DHCP客户也可以进行要求。通过广播方式进行交互，因为客户端不知道服务器IP地址，而客户端没有IP地址，从而必须广播，且为UDP，因为没有IP地址无法使用TCP建立连接。<br>④网际控制报文协议（ICMP）：<br>为了提高IP数据报交付成功的机会，网络层使用ICMP让主机/路由器报告差错和异常情况，ICMP报文作为IP层数据报的数据，加上数据报的首部，组成IP数据报发送出去。有两种：ICMP差错报告报文和ICMP询问报文。  </li><li>差错报告报文用于目标主机或到目标主机路径上的路由器向源主机报告差错和异常情况，有五类：<br>终点不可达：路由器/主机不能交付数据报时。<br>源点抑制： 路由器/主机由于拥塞丢失数据报，应该把数据报的发送速率降低。<br>时间超过：路由器收到TTL=0的数据报时，除了丢弃该数据报外，还要向源点发送时间超过报文。当终点在预先规定时间内不能收到一个数据报全部数据报片的时候就把已经收到的全部丢弃，并向源点发送时间超过报文。<br>参数问题：当路由器或目的主机收到的数据报的首部中有的字段的值不正确的时候，就丢弃数据报，并向源点发送参数问题报文。<br>改变路由：路由器把改变路由报文发送给主机，让主机知道通过更好路由发送给另外的路由器。    </li><li>询问报文：有四种，回送请求和回答报文，时间戳请求和回答报文，掩码地址请求和回答报文，路由器询问和回答报文。  </li><li>ICMP常见的应用是分组网间探测PING（用来测试两台主机之间连通性）和Traceroute（跟踪分组经过路由），其中PING用了回送请求和回答报文，Traceroute使用了ICMP时间超过报文。PING工作在应用层，直接使用网络层ICMP，而Traceroute工作在网络层。  <h2 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h2><h3 id="IPv6的主要特点"><a href="#IPv6的主要特点" class="headerlink" title="IPv6的主要特点"></a>IPv6的主要特点</h3>解决IP耗尽问题有三种：①采用CIDR无类别编址，使得IP地址分配更加合理。②采用网络地址转换NAT方法节省全球IP地址。③采用更大地址空间新版本IPv6。<br>IPv6特点：<br>①有更大地址空间，32位变成128位，字节数16B是4B的平方。<br>②扩展的地址层次。<br>③灵活的首部格式。<br>④改进的选项。<br>⑤允许协议继续扩充。<br>⑥即插即用（自动配置）。<br>⑦支持资源预分配。<br>⑧不允许分片。<br>⑨首部长度为8B的整数倍，而IPv4是4B的整数倍。<br>⑩增大了安全性，身份验证和保密功能是IPv6的整数倍。  <h3 id="IPv6地址"><a href="#IPv6地址" class="headerlink" title="IPv6地址"></a>IPv6地址</h3>IPv6的数据报目的地址是：单播（传统点对点），多播（一对多，分组给一组计算机的每个），任播（IPv6增加的类型，数据报只交付给一组计算机的一台最近的计算机）。<br>使用了分级概念，三个等级：公共拓扑，单个场点，单个网络接口。  <h2 id="路由协议"><a href="#路由协议" class="headerlink" title="路由协议"></a>路由协议</h2><h3 id="自治系统"><a href="#自治系统" class="headerlink" title="自治系统"></a>自治系统</h3>AS，单一技术管理下的一组路由器，这些路由器使用一种AS内部的路由选择协议和共同度量来确定分组在该AS的路由，同时使用一种AS之间的路由选择协议来确定分组在AS之间的路由。一个自治系统的所有网络都由一个单位管线，且所有路由器都联通。  <h3 id="域间路由和域内路由"><a href="#域间路由和域内路由" class="headerlink" title="域间路由和域内路由"></a>域间路由和域内路由</h3>自治系统内部路由选择称为域内路由选择，外部称为域间路由选择。<br>①内部网关协议（Interior Gateway Protocol，IGP）：有RIP和OSPF。<br>②外部网关协议（External Gateway Protocol，EGP）：<br>若源站和目的站处于不同AS，则传送数据报的时候就需要使用一种协议把路由信息传递给另一个系统，这样的协议就是EGP，使用最多的就是BGP-4。  <img src="/2022/05033405/5.jpg" class="">    <h3 id="路由信息协议（RIP）"><a href="#路由信息协议（RIP）" class="headerlink" title="路由信息协议（RIP）"></a>路由信息协议（RIP）</h3>基于距离向量的路由选择协议（DV），最大优点就是简单。<br>①RIP规定：<br>网络中每个路由器都需要维护从它自身到其他每个目的网络的距离记录。<br>距离也称为跳数，每经过一个路由+1。<br>RIP认为好的路由就是跳数小，允许最多15跳，大于15则不可达，所以只使用小型互联网。<br>RIP默认两个使用RIP路由器之间每30s一次广播路由更新信息，以便建立更新维护路由表。<br>②RIP特点：<br>只和自己相邻路由器交换信息。<br>路由器交换信息是当前路由器所知道的全部信息，即自己的路由表。<br>按照固定时间间隔交换路由信息，如每隔30s。<br>③距离向量算法：<br>路由表有三个关键数据：目的网络N，距离d，下一跳路由器地址X。则每个RIP报文执行：  </li><li>地址X相邻路由器发来报文，修改此报文所有项目，把下一跳改为X，距离+1。  </li><li>对于修改后的RIP报文中每个项目要：当前路由表中没有目的网络N，则添加。有目的网络N且下一跳路由器是X则替换。有目的网络N且下一跳路由器不是X且新距离短则替换，距离长则不做改变。  </li><li>若180s没有收到更新路由表，把相邻路由器记作不可达路由器，距离设置为16。   </li><li>返回。<br>④优缺点：<br>优点就是实现简单，开销小，收敛过程快。<br>缺点就是RIP限制网络规模，能够使用最大距离为15。路由器之间交换的是完整路由表，网络规模越大开销越大。网络出现故障的时候出现慢收敛现象。<br>RIP是应用层协议，使用UDP传送数据，路径一定是路由器最少的路径，但不一定是时间最短的路径。  <h3 id="开放最短路径优先协议（OSPF）"><a href="#开放最短路径优先协议（OSPF）" class="headerlink" title="开放最短路径优先协议（OSPF）"></a>开放最短路径优先协议（OSPF）</h3>①OSPF的特点：</li><li>与RIP区别：<br>OSPF使用洪泛法向所有路由器发送信息。而RIP向相邻路由器发送信息。<br>OSPF发送信息是与本路由器相邻所有路由器的链路状态。而RIP是整个路由表。<br>OSPF当链路发生变化的时候才更新路由器。而RIP是定期更新。<br>OSPF是网络层协议，使用IP数据报传送。而RIP是应用层协议，使用UDP传送。  </li><li>OSPF还有自己的特点：<br>OSPF对于不同链路根据IP分组不同服务类型而设置不同代价，因此计算出不同路由，很灵活。<br>如果对同一个目的网络有多条代价相同的路径，则可以把通信量分配给这几条路径，称为多路径之间的负载平衡。<br>所有在OSPF路由器之间的交换分组都有鉴别功能，保证了仅在可信赖路由器之间交换链路状态信息。<br>支持可变长子网划分和无分类编址CIDR。<br>每个链路状态都有自己32位序号，序号越大，状态越新。<br>②OSPF基本原理：<br>各路由器之间频繁交换链路状态，因此都可以建立一个链路状态数据库，就是全网拓扑图，在全网范围内是一致的，然后用Dijkstra计算单源最短路径，构造自己路由表，更新之后继续计算构造新路由表即可。<br>为了使得OSPF能够用于更大的网络，需要把AS再次划分称为更小范围的区域，减小了通信量。<br>③OSPF的五种分组类型：<br>问候分组：用来发现和维持邻站的可达性。<br>数据库描述分组：向邻站给出自己链路状态数据库中信息。<br>链路状态请求分组：向对方请求发送某些链路状态项目的详细信息。<br>链路状态更新分组：用洪泛法对全网更新状态。<br>链路状态确认分组：对链路更新分组的确认。<br>通常10s，两个相邻路由器交换一次问候分组，知道哪些可达。路由器开始工作的时候，OSPF让每个路由器使用数据库描述分组和相邻交换本数据库中的信息，然后路由器使用链路状态请求分组，向对方请求发送自己缺少的某些链路状态项目的详细信息。经过一系列的分组交换，建立全网同步的链路状态数据库。<img src="/2022/05033405/6.jpg" class="">  <h3 id="边界网关协议（BGP）"><a href="#边界网关协议（BGP）" class="headerlink" title="边界网关协议（BGP）"></a>边界网关协议（BGP）</h3></li><li>常用于互联网网关之间，只求能找到一条到达目的网络且较好的路由，并非最佳路由，使用的是路径向量DV，BGP是应用层协议，基于TCP。  </li><li>工作原理如下：每个自治系统管理员选择一个路由器（可以多个）作为发言人，发言人之间交换路由信息（建立TCP连接），当所有的发言人都相互交换信息之后就可以找到各个自治系统的较好路由。  </li><li>特点：<br>AS数量级就是BGP的节点数量级，比AS中的网络数量小很多。<br>发言人数量很少，使得AS间的路由选择不复杂。<br>BGP支持CIDR。  </li><li>BGP一共使用4种报文：<br>①打开报文（Open），用来与相邻的另一个BGP发言人建立关系。<br>②更新报文（Update），用来发送某一路由的信息，以及列出要撤销的多条路由。<br>③保活报文（Keepalive），用来确认打开报文并周期性地证实邻站关系。<br>④通知报文（Notification），用来发送检测到的差错。<h3 id="三者比较"><a href="#三者比较" class="headerlink" title="三者比较"></a>三者比较</h3><img src="/2022/05033405/7.jpg" class="">  <h2 id="IP组播"><a href="#IP组播" class="headerlink" title="IP组播"></a>IP组播</h2><h3 id="IP组播的概念"><a href="#IP组播的概念" class="headerlink" title="IP组播的概念"></a>IP组播的概念</h3></li><li>让源计算机一次发送的单个分组可以抵达用一个组地址标识的若干目标主机，并被他们正确接收。组播一定仅应用于UDP，TCP一对一不适用。让源主机把单个分组发送给一个组播地址，该组播地址标识一组地址，而一个主机可以属于多个组。  </li><li>主机使用IGMP协议加入组播组，它们使用该协议通知本地网络上的路由器关于要接收发送给某个组播组的分组愿望。  </li><li>主机组播仅仅发送一份数据，路径分叉的时候才复制，因此大大减轻网络负载和发送者负担，组播需要路由器支持才能实现，能够运行组播协议的路由器称为组播路由器。  </li><li>组播和单播区别：  <img src="/2022/05033405/12.jpg" class="">  <h3 id="IP组播地址"><a href="#IP组播地址" class="headerlink" title="IP组播地址"></a>IP组播地址</h3></li><li>使用D类地址，前四位1110，因此D类范围为224.0.0.0———239.255.255.255，每个IP地址标志一个组播组。  </li><li>组播数据报和IP数据报区别是：前者使用D类IP地址作为目的地址，并且首部协议字段为2，使用IGMP，需要注意的是：<br>①组播数据报是不可靠的，尽最大努力交付的。<br>②组播地址只能用于目的地址，不能用于源地址。<br>③对于组播数据报不产生ICMP差错报文，因此PING命令不响应。<br>④并非所有D类地址都可以是组播地址。  </li><li>组播地址分两种：本局域网内硬件组播，因特网内组播。  <h3 id="IGMP与组播路由算法"><a href="#IGMP与组播路由算法" class="headerlink" title="IGMP与组播路由算法"></a>IGMP与组播路由算法</h3></li><li>要使路由器知道组播成员信息，需要利用因特网组管理协议IGMP，连接到局域网上的组播路由器必须和因特网上其他组播路由器协同工作，以便把组播数据报以最小代价传送给所有组成员，所以使用组播路由选择协议。  </li><li>IGMP不知道IP组播包含的成员，而是让连接在本地局域网上的组播路由器知道主机是否参加/退出了某个组播组。  </li><li>IGMP工作两个阶段：<br>①某台主机加入新组买主机应该向组播组的组播地址发送一个IGMP报文，声明自己要成为成员，本地组播路由器收到以后，把组成员关系转发给因特网上的其他组播路由器。<br>②组成员是动态的，本地组播路由器周期性探询主机，看看是否还是成员。  </li><li>组播路由实际就是找出以源主机为根结点的组播转发树。  <h2 id="移动IP"><a href="#移动IP" class="headerlink" title="移动IP"></a>移动IP</h2><h3 id="移动IP的概念"><a href="#移动IP的概念" class="headerlink" title="移动IP的概念"></a>移动IP的概念</h3></li><li>支持移动性的因特网体系结构与协议称为移动IP，为了满足移动结点在移动中保持连接性而设计的。确切的说，移动IP技术是指移动结点以固定IP地址跨越不同网段的漫游功能，且保证网络权限不发生改变。</li><li>基于IPv4的移动IP定义三种功能实体：<br>①移动结点：具有永久IP地址的移动结点。<br>②本地代理：一个网络环境中一个结点永久的“居所”称为归属网络，在归属网络中代表结点执行移动管理功能的实体为本地代理。<br>③外部代理：外部网络中帮助结点完成移动管理功能的实体为外部代理。  <h3 id="移动IP的通信过程"><a href="#移动IP的通信过程" class="headerlink" title="移动IP的通信过程"></a>移动IP的通信过程</h3></li><li>移动结点本地地址唯一且不变，所以本地网络链路上每个本地结点需要本地代理为它维护当前位置信息，需要引入转交地址。当移动结点连接到外地网络链路上时，转交地址用来标识结点现在所处位置，以便进行路由选择。移动结点本地地址和转交地址的联合称为移动绑定/绑定，当移动结点获得一个新的转交地址，通过绑定向本地代理注册，以便让本地代理了解移动结点所处位置。  </li><li>通信过程如下：<br>①移动结点连接本地网使用传统TCP/IP通信。<br>②漫游到外地网络，需要向本地代理注册当前位置地址，这个位置地址是转交地址。<br>③本地代理接收注册之后，构建一条通向转交地址的隧道，把截获的发给移动结点的分组通过隧道传给转交地址处。<br>④转交地址接触封装，回复原始IP分组，最后送到移动结点。<br>⑤移动结点在外网通过路由器/外部代理向通信对端发送数据包。<br>⑥移动结点来到另一个外网时，需要向本地代理更新注册的转交地址，就可以继续通信。<br>⑦移动结点回到本地网时，移动结点向本地代理注销转交地址，继续以TCP/TP进行通信。  </li><li>移动IP为主机设置两个IP地址，主地址和辅地址（转交地址）。移动结点本地网用主地址，移动另外网络使用临时辅地址，主地址不变。  <h2 id="网络层设备"><a href="#网络层设备" class="headerlink" title="网络层设备"></a>网络层设备</h2><h3 id="路由器的组成和功能"><a href="#路由器的组成和功能" class="headerlink" title="路由器的组成和功能"></a>路由器的组成和功能</h3></li><li>路由器是一个具有多个输入/输入端口的专用计算机，任务是连接不同网络并完成路由转发。同一个网络传递无须路由器的参与，而跨网络通信必须通过路由器进行转发。</li><li>从结构上看，路由器由路由选择和分组转发两部分构成，路由器是网络层设备，实现了网络模型的下三层，即物理层，数据链路层，网络层。  <img src="/2022/05033405/8.jpg" class="">   </li><li>路由选择部分也叫控制部分，核心构建是路由选择处理机，其任务是根据所选定的路由选择协议构造出路由表，同时经常或者定期地和相邻路由交换路由信息不断更新维护路由表。  </li><li>分组转发部分由三部分组成：交换结构，一组输入和一组输入端口。输入端口从物理层接收到的比特流中提取出数据链路层的帧，从帧中提取出网络层数据报，输出端口则执行恰好相反的操作。交换结构则是关键部件，根据转发表对分组处理，把某个输入端口进入的分组从一个合适的端口转发出去，有三种常见方法：通过存储器进行交换， 通过总线进行交换，通过互联网络进行交换。  <h3 id="路由表和路由转发"><a href="#路由表和路由转发" class="headerlink" title="路由表和路由转发"></a>路由表和路由转发</h3>标准路由表有四个项目：目的网络IP地址，子网掩码，下一跳IP地址，接口。  <img src="/2022/05033405/9.jpg" class="">  转发表是由路由表得到的，格式不同，含有目的地址和下一跳MAC地址。  <h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2></li><li>尽最大努力的交付含义：有可能有差错，有可能不按时，有可能不按序，有可能重复，有可能意外丢失数据报。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络数据链路层</title>
      <link href="/2022/050135078.html"/>
      <url>/2022/050135078.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络数据链路层"><a href="#计算机网络数据链路层" class="headerlink" title="计算机网络数据链路层"></a>计算机网络数据链路层</h1><img src="/2022/050135078/1.jpg" class=""> <h2 id="数据链路层的功能"><a href="#数据链路层的功能" class="headerlink" title="数据链路层的功能"></a>数据链路层的功能</h2><p>数据链路层在物理层提供服务的基础上向网络层提供服务，主要作用是加强物理层传输原始比特流的功能，把其可能出错的物理连接改造为逻辑上无差错的物理链路，使之对于网络层表现为一条无差错的链路。功能如下：</p><ul><li>为网络层提供服务：<br>①对于网络层，链路层基本任务就是把原机器来自网络层数据传输到目的机器网络层，提供三种服务。<br>②无确认的无连接服务：不需要连接，不发送确认，丢失帧不负责，适用于实时性强误码率低的通信信道，如以太网。<br>③有确认的无连接服务：不需要连接，但发送确认，源机器长时间没收到确认就重传帧，适用于误码率高的通信信道，如无线通信。<br>④有确认的面向连接服务：需要建立连接，每个帧都需要确认，适用于通信要求高的场合。<br>⑤有连接一定要有确定，不存在无确认的无连接服务。</li><li>链路管理：<br>数据链路层连接的建立，维持，释放的过程称为链路管理，主要用于面向连接服务，链路两端结点进行通信，必须首先确认对方已处于就绪状态，交换信息对帧序号初始化之后才能建立连接。多个站点公用一个物理信道如何分配和管理信号也属于管理范畴。  </li><li>帧定界，帧同步，透明传输：<br>①主机之间传输信息把网络层分组封装成帧，分别添加首部尾部，都包含很多控制信息，为了确定帧的界限，即帧定界。<br>②帧同步指的是接收方能够从接收到的二进制比特流中区分帧的起止。<br>③为了提高帧传输效率，应该使得数据部分长度尽可能大于首部和尾部，但每个协议都规定数据部分长度上限——最大传送单元MTU。<br>④数据部分恰好出现与帧定界相同的比特组合会误认为结束了，则采用透明传输————不管什么样的数据部分都能在链路上传送。</li><li>流量控制：<br>①由于收发双方各自工作速率和缓存空间差异，可能出现发送能力高于接收能力，如果不调整发送速率会使得未被接收的帧被后来的帧淹没而丢失，因此，流量控制就是限制发送方的数据流量，使得其发送速率不超过接收方的接收能力。<br>②需要反馈机制使得发送方知道接收方能否跟得上自己，需要知道何时才能发送下一帧，何时暂停发送。<br>③流量控制并不是链路层特有的功能，许多高层协议也有该功能，控制对象不同。链路层控制的是两结点之间的数据链路上的流量，运输层是端之间的流量。  </li><li>差错控制：<br>①由于噪声等因素，帧会出错，则用以使得发送方确定接收方是否正确收到其发送的数据的方法为差错控制，错误可以分为位错和帧错。<br>②位错使用循环冗余校验（CRC）的方法，通过自动重传请求（Automatic Repeat reQuest，ARQ）方式进行重传出错的帧。具体做法是：发送方的帧中包含一定CRC冗余码一并发送，接收方根据检错码对帧进行验证，错误就丢弃，发送方超时而重传，这种方法叫ARQ，只需要回复少量的控制信息就可以确定帧是否正确接收。<br>③帧错误包括丢失，重复，失序等，在链路层引入定时器和编号机制，超时或者编号缺少则重传，保证每帧都能传到目的结点。<h2 id="组帧"><a href="#组帧" class="headerlink" title="组帧"></a>组帧</h2>数据链路层为啥组帧——出错时只重发出错的帧而不是全部数据，提高效率。为了能够监测错误，必须依照一定规则把网络层的分组组帧。组帧解决帧定界，帧同步，透明传输等问题，有四个方法组帧：</li><li>字符计数法：帧头部有一个计数字段，缺点：如果头部出错就失去了帧边界，无法判断结束和下一个帧开始，直接失去同步，造成灾难性后果。</li><li>字符填充的首尾定界法：特殊字符定界开始和结束，数据中如果出现结束符，则在前边加上一个标识符比秒结束，接收方遇见标识符删去即可得到原来数据。 <img src="/2022/050135078/2.jpg" class=""> </li><li>零比特填充的首尾标志法：还能进行透明传输，如图：  <img src="/2022/050135078/3.jpg" class=""> </li><li>违规编码法：物理层进行比特编码的时候常用违规编码法，借用违规的编码序列来标志开始和结尾，不需要任何填充技术，便实现透明传输，只适用于冗余编码的特殊编码环境。  </li><li>目前常用比特填充和违规编码法。<h2 id="差错控制"><a href="#差错控制" class="headerlink" title="差错控制"></a>差错控制</h2>实际通信传输中可能产生比特差错，通常利用编码技术进行差错控制，主要有两类：自动重传请求ARQ和前向纠错FEC。在ARQ中接收端检测出错的时候通知重发直到正确，FEC中可以确定比特串错误位置进行纠正，因此可以分为检错编码和纠错编码。</li><li>检错编码：检错编码都是采用荣誉编码技术，核心思想就是在有效数据发送前按照某种关系附加一定冗余位，构成一个符合某规则的码之后再发送，当发送数据发送变化的时候，相应冗余位也变化，常见的有奇偶校验码和循环冗余码。<br>①奇偶校验码：由n-1位信息元和1位校验元组成，如果是奇校验码则n个码字中1的个数为奇数，偶校验码则为偶数。只能校验是否出错，不知道出错情况。<br>②循环冗余码：CRC，熟练掌握计算过程！！！给定一个m位的帧/报文，发送器生成一个r位的序列称为帧检验序列FCS，形成的帧由m+r位组成，事先双方商定一个G（x）作为检验，可以被整除无余数即可认为无差错。（其实CRC有纠错功能，但链路层没用到）</li><li>纠错编码：最常见的就是海明威码，熟练掌握计算过程！！！原理是有效信息位中加入几个校验位形成海明码，并且把海明码的每个二进制位分配到几个奇偶校验组中，当某一位出错之后会引起有关的几个校验位的值发生变化，不但能发现错位还能找到其位置，为自动纠错提供依据。<h2 id="流量控制与可靠性传输机制"><a href="#流量控制与可靠性传输机制" class="headerlink" title="流量控制与可靠性传输机制"></a>流量控制与可靠性传输机制</h2></li><li>流量控制，可靠传输与滑动窗口机制：<br>①流量控制对帧的发送速率，以便接收方有足够的缓冲空间来接收每个帧。基本方法由接收方控制发送方发送速率，常见方法有两种：停止-等待协议和滑动窗口协议。<br>②停止-等待协议：基本原理就是发送方每发送一帧都要等待接收方应答才发送下一帧，接收方同理，不反馈则会一直等待，因此效率很低。<br>③滑动窗口协议： 在任意时刻，发送方都维持一组连续的允许发送的帧的序号，为发送窗口，同理接收方的接收窗口。而发送窗口大小指的是接收方未发送确认信息前还能发送多少个数据帧。同时接收窗口只有收到数据帧序号落入接收窗口内才能把帧收下，窗口外直接丢弃。同时发送方每收到一个确认帧就前移一个位置，当发送窗口没有可以发送的帧的时候就停止直到收到确认，接收方也是收到数据帧之后前移并发回确认帧。<br>滑动窗口特性：<br>只有接收窗口前移，发送窗口才能前移。<br>接收窗口大小为1的时候可以保证帧的有序接收。<br>窗口大小在传输过程中是固定的。<br>④可靠传输机制：经常使用确认和超时重传两种机制完成，ARQ就是处理差错的方法之一，常见ARQ有：停止等待ARQ，后退N帧ARQ，选择性重传ARQ。在数据链路层中，流量控制和可靠性传输交织在一起。  <img src="/2022/050135078/4.jpg" class="">  <img src="/2022/050135078/5.jpg" class="">  </li><li>单帧滑动窗口和停止等待协议：<br>①停止等待是发送和接收窗口均为1的滑动窗口，单帧。<br>②除了数据帧丢失之外，还存在两种差错：帧遭到破坏和数据帧正确确认帧错误。<br>③帧遭到破坏被检测出来之后丢弃，发送方有计时器，长时间未接到确认就重复发送直到成功。<br>④信道利用率太低，所以产生了后退N帧协议和选择重传协议。<img src="/2022/050135078/6.jpg" class="">  </li><li>多帧滑动窗口和后退N帧协议（GBN）：<br>①发送方无须收到上一个帧确认才发送下一个帧，而是可以连续发送，当接收方检测到失序的帧时要求发送方发送最后一个正确接收的帧和之后的所有未被确定的帧，也就是————接收方只能按照顺序接收帧。<br>②为了节省开销，接收窗口并不是接到一个帧就确认一个，而是几个帧再确认，说明最后一个帧之前的所有帧都收到了。<br>③接收窗口=1，保证按顺序接收帧，提高信道利用率，但重传有时候把自己传输正确的帧也重传了，这种做法又使得传输效率降低，所以信道质量差的时候效率不一定比停止等待协议高。</li><li>多帧滑动窗口和选择重传协议（SR）：<br>①为了提高信道利用率，设法只重传出错的数据帧/计时器超时的数据帧，但必须加大接收窗口大小，以便先收下发送序号不连续但仍在接收窗口中的那些帧，等到所缺的帧收到之后再一并送交主机。<br>②每个发送缓冲区对应一个计时器，超时就会把缓冲区内重传。接收和发送窗口大小均&gt;1，一般来说大小相同，使用累计确认的方法。<br>③SR确实避免了重传正确的帧，但需要在接收方缓冲区存储正确的帧，缓冲区的数目大小等于窗口的大小。</li><li>从滑动窗口概念来看，停止等待协议的发送窗口大小=1，接收窗口大小=1。后退N帧协议的发送窗口大小&gt;1，接收窗口大小=1。选择重传协议的发送窗口大小&gt;1，接收窗口大小&gt;1。 <h2 id="介质访问控制"><a href="#介质访问控制" class="headerlink" title="介质访问控制"></a>介质访问控制</h2>介质访问控制为了使用介质每个结点隔离来自同一信道其他结点传送的信号，以协调活动结点的传输。用来决定广播信道中信道分配的协议属于数据链路层的一个子层，称为介质访问控制层子层（Medium Access Control，MAC）。若干结点如果使用同一个信道可能会相互干扰。常见方法有：信道划分介质访问控制（静态划分方法），随机访问介质访问控制（动态划分方法），轮询访问介质访问控制（动态划分方法）。</li><li>信道划分介质访问：<br>①将使用介质的每个设备与其他设备通信隔离开，把时域和频域资源合理分配给网络上设备。<br>②多路复用：当介质带宽超过传输单个信号所需要的带宽时，人们通过在一条介质上传输多个传输信号的方法提高信道利用率。采用多路复用技术可以把多个输入通道信息整合到一个复用通道里，接收端把收到的信息分离出来并传送到对应的输出通道。<img src="/2022/050135078/7.jpg" class="">   ③信道划分的实质是分时，分频，分码等方法把原来的一条广播信道逻辑上分为若干条互不干扰子信道，实际是把广播变成点对点信道。<br>④频分多路复用FDM：把信道总带宽划分为单个信号带宽相同的子信道，每个子信道传输一种信号。每个子信道带宽可以不相同，但总和必须小于总带宽，为了防止相互干扰加入“保护频带”，优点就是充分利用带宽，系统效率搞，技术简单实现容易。<br>⑤时分多路复用TDM：时分多路复用把物理信道按照时间分为若干时间片，轮流分配给多个信号使用，每个时间片由复用的一个信号占用，其中STDM是动态分配信道时间（一个用户可以占用全部时间片，效率加倍）。  <img src="/2022/050135078/8.jpg" class=""> ⑥波分多路复用WDM：即光的频分多路复用，波长（频率）不同，互不干扰。<br>⑦码分多路复用CDM：不同编码区分各路原始信号，举个例子：<br>实际上也叫码分多址CDMA，把比特时间划分为m个端的时间槽，称为码片，通常m为64/128。举例m为8，每个站点被指派了一个唯一的m位的码片序列，发送1时站点发送它的码片序列，0时也方该码片序列的反码，当两个站点同时发送的时候，各路数据在信道中线性相加。为了分理出各路信号，要求各个站点码片序列相互正交。优点：频谱利用率高，抗干扰能力强，保密性强等。<img src="/2022/050135078/9.jpg" class=""> </li><li>随机访问介质访问：<br>不采用集中控制方式解决发送信息次序，所有用户都能偶根据自己意愿随机发送信息，占用信道全部速率。总线型网络中，两个或以上用户发送信息的时候产生冲突，为了解决冲突，每个用户需要按照规则反复重传他的帧，直到无碰撞的通过。常用的协议有：ALOHA，CSMA，CSMA/CD，CSMA/CA，核心思想都是胜利者获得权力发送信息，因此又称为挣用型协议。实质上随机访问介质访问把广播信道转化为了点到点信道。<br>①ALOHA协议：<br>又分为两种——纯ALOHA和时隙ALOHA。<br>纯ALOHA：基本思想时当网络中任何一个站点需要发送数据时，可以不经检测直接发送数据，如果在一段时间内未收到确认，那么该站点就认为传输过程中发生冲突，发送站点需要等待一段时间再发送数据，直至发送成功。重传策略则是各站等待随机时间进行重传。但吞吐量低，改进得到时隙ALOHA。<br>时隙ALOHA：把所有站点时间同步起来，把时间划分为登场时隙SLOT，规定只能在每个时隙开始时发送一个帧，避免随意性，减少冲突可能，提高信道利用率。重传策略和ALOHA相似。吞吐量比ALOHA大一倍。<br>②CSMA协议：<br>如果每个站点发送前都侦听一下信道，空闲再发送就大大减少冲突的可能，从而提高信道利用率，载波侦听多路访问（Carrier Sense Multiple Access，CSMA）就是这个思想，比ALOHA多了一个载波侦听装置。而CSMA又分三种：<br>1-坚持CSMA：侦听到信道空闲则发送，忙则继续侦听直到空闲，如果冲突则随机等待一个时间重复上述过程。但传播延迟使得1-坚持CSMA仍然会发生冲突。<br>非坚持CSMA：侦听到信道空闲则发送，忙则放弃侦听，随机等待一个时间重复过程。侦听到忙碌就放弃了，降低了冲突概率。<br>p-坚持CSMA：用于时分信道，侦听到信道空闲则发送，忙则继续侦听直到空闲，空闲则有p的概率发送给数据，以1-p的概率推迟到下一个时隙，下一个时隙重复该过程。<img src="/2022/050135078/10.jpg" class="">   ③CSMA/CD协议：<br>载波侦听多路访问/碰撞检测（Carrier Sense Multiple Access with Collision Detection，CSMA/CD）是CSMA改进方案，适用于总线型网络/半双工网络，而碰撞监测则是边发送边侦听，判断是否其他站点也在发送数据。工作过程概括为“先听后发，边听边发，冲突停发，随机重发”————只能半双工通信，不能同时收发。<br>为了确保发送数据同时监测是否碰撞，需要发送之前就能收到自己发送出去的数据，即帧传输时延至少两倍于信号在总线上的传播时延，才能保证无碰撞，所以CSMA/CD总线中所有数据帧都需要大于一个最小帧长，小于最小帧长当作无效帧丢弃（非要发就需要填充字段到最小帧长），最小帧长=总传播时延X数据传输速率X2。<br>除此之外，CSMA/CD冲突之后采用退避算法解决碰撞问题，第k次重传，就从0-2的k次方-1之间抽随机数，随机数乘以争用期得到重传的时间。该算法求出的时间随着重传时间增大而增大，降低发生碰撞概率。  <img src="/2022/050135078/11.jpg" class=""> ④CSMA/CA协议：<br>CSMA/CD协议已经成功用于有线连接局域网。无线网中并不适用，所以802.11标准则定义了CSMA/CA，其中CA为Collision Avoidance碰撞避免，尽量避免碰撞发生。为了尽量避免，802.11规定所有站发送完之后必须等一段时间才发送下一帧，称为帧间间隔（InterFrame Space,IFS），其长短取决于帧类型，有三种：SIFS(短IFS)，PIFS（点协调IFS），DIFS（分布式协调IFS）。<br>⑤CSMA/CA与CSMA/CD区别：<br>CSMA/CD可以监测冲突但没法避免，CSMA/CA尽量避免但有可能冲突。<br>传输介质不同：CSMA/CD用于总线型以太网，CSMA/CA用于无线局域网802.11 a/b/g/n等。<br>监测方式不同：CSMA/CD通过电缆中电压变化监测，而CSMA/CA通过能量监测，载波监测，能力载波混合监测三种监测方式。<br>总结：CSMA/CD基本思想先侦后发，边发边侦，而CSMA/CA则是发送前先广播告知其他结点短时间内别发数据，以免出现碰撞。  </li><li>轮询访问介质访问控制：令牌传递协议<br>①用户不能随机发送信息，而是通过一个集中控制的监控站，以循环方式轮询每个结点，再决定信道分配，信道只有一个结点使用。 典型的就是令牌传递协议——用于令牌环局域网中。<br>②令牌传递协议中，令牌以固定次序交换，它是一组特殊比特组成的帧。环上的站希望传送帧时必须等令牌，收到令牌即可发送数据。令牌上包括目的地址，标示这哪个站点接收，令牌在环上进行传送。不需要发送数据的时候，令牌就在环形网上游荡，令牌只有一个，不会冲突。网络中物理拓扑不是一个环，逻辑上是一个环，适合负载高的广播信道，用其他的协议则会冲突概率很大，没有共享空间和时间。<h2 id="局域网"><a href="#局域网" class="headerlink" title="局域网"></a>局域网</h2><h3 id="局域网的基本概念和体系结构"><a href="#局域网的基本概念和体系结构" class="headerlink" title="局域网的基本概念和体系结构"></a>局域网的基本概念和体系结构</h3>①局域网（Local Area Network，LAN）指的是较小的地理范围内，把各种计算机，外部设备，数据库系统通过双绞线，同轴电缆等介质相互连接起来，组成资源和信息共享的计算机互联网络。<br>②特点：<br>一个单位所拥有，地理范围站点数目有限。<br>所有站点共享较高的总带宽。<br>较低的时延和较低的误码率。<br>各站为平等关系而非主从关系。<br>能进行广播和组播。<br>③拓扑结构，传输介质，介质访问控制方式决定了局域网技术特性。<br>拓扑结构有：星形结构，环形结构，总线型结构，星型和总线型复合结构。<br>传输介质有：双绞线，铜缆，光纤等，双绞线为主流。<br>介质访问控制方式有：CSMA/CD，令牌总线，令牌环，前两种方式用于总线型，后一种为环形局域网。<br>④三种特殊局域网：<br>以太网：目前适用范围最广局域网，逻辑拓扑总线形结构，物理拓扑是星型/拓展星型。<br>令牌环：逻辑拓扑环形结构，物理拓扑是星型。<br>FDDI：逻辑拓扑环形，物理拓扑是双环形。<br>IEEE 802标准把数据链路层拆为两个子层逻辑链路控制层LLC和媒体接入控制层MAC。其中与接入传输媒体有关内容都在MAC，它向上屏蔽物理层访问差异，提供对物理层同意统一接口，主要功能有：组帧和拆卸帧，比特传输差错检测，透明传输，而LLC向网络层提供无确认无连接，有确认无连接，有确认有连接，告诉传送四种不同连接服务。<h3 id="以太网与IEEE-802-3"><a href="#以太网与IEEE-802-3" class="headerlink" title="以太网与IEEE 802.3"></a>以太网与IEEE 802.3</h3>以太网采用总线型拓扑结构，所有计算机共享总线，信息以广播形式发送，以太网简化CSMA/CD进行访问控制。802.3局域网简称以太网。以太网采用两种方式简化通信：①采用无连接工作方式，不可靠服务，纠错由上层完成。②使用曼彻斯特编码，每个码元中间出现一次电压转换，利用其提取出来同步信号。<br>①以太网传输介质与网卡：<br>常用传输介质由粗缆，细缆，双绞线，光纤，各种介质适用情况见下表：  <img src="/2022/050135078/12.jpg" class=""> 计算机与局域网连接通过主机箱内插入的一块网络接口板（网络适配器Adapter或网络接口卡NIC），网卡上有处理器和存储器，工作在链路层的组件。网卡不仅实现与传输介质之间的物理连接和电信号匹配，还涉及到帧的发送和接收，帧的封装和拆封，介质访问控制，数据编码与解码，数据缓存等功能。每块网卡有一个独一无二的介质访问控制地址（MAC地址），数据链路层都是用MAC地址。<br>②以太网的MAC帧：<br>也称物理地址，长度为6字节，由12个16进制数表示。由于使用总线广播，则检查MAC帧，符合就接收否则丢弃。帧格式有两种：DIX Ethernet V2标准和IEEE 802.3标准。<br>Ⅰ：DIX Ethernet V2标准：<br>前导码：使接收端和发送端时钟同步，在帧前面插入的8个字节可以再分为两个字段，一个字段7字节为前同步码，第二个是帧开始定界符，表示后边的信息是MAC帧。<br>地址：通常使用6字节地址MAC地址。<br>类型：2字节，指出数据应该用哪个协议实体处理。<br>数据：46-1500字节，包含高层协议信息，由于CSMA//CD协议长度限制最小为64，不够需要填充。（64-18=46，首尾共18字节）<br>填充：0-64字节。<br>校验码FCS：4字节，范围从目的地址段到数据末尾，采用32位CRC码，不但检验MAC帧数据部分，还有目的地址，源地址，类型字段，但不校验前导码。 <img src="/2022/050135078/13.jpg" class="">  Ⅱ：IEEE 802.3标准：不同之处就是长度域代替了DIX帧中的类型域，指出数据域长度。<br>③高速以太网：<br>速度超过100Mb/s的以太网。有三种：<br>Ⅰ： 100BASE-T以太网：双绞线上传送100Mb/s基带信号的星形拓扑结构以太网，使用CSMA/CD协议，全双工/半双工均可，全双工不用CSMA/CD。<br>Ⅱ：吉比特以太网：1G/s下全双工/半双工工作，半双工使用CSMA/CD。<br>Ⅲ：10吉比特以太网：10G/s下使用光纤作为传输媒体，只全双工。  <h3 id="IEEE-802-11"><a href="#IEEE-802-11" class="headerlink" title="IEEE 802.11"></a>IEEE 802.11</h3>无线局域网分为两类：有固定基础设施无线局域网和无固定基础设施移动自组织网络。<br>①有固定基础设施无线局域网：<br>对于有固定基础设施，IEEE指定了802.11系列协议标准。802.11使用星形拓扑，中心称为接入点（Access Point，AP），MAC层使用CSMA/CA协议，又称Wi-Fi。<br>无线局域网最小构件是基本服务集BSS（Basic Service Set，BSS），包括一个基站和若干移动站，BSS内部之间通信，外部则通过基站通信，AP就是基站，安装AP时需要给它分配一个不超过32字节的服务集标识符SSID和一个信道，一个BSS覆盖范围称为一个基本服务区BSA，一般不超过100m。<br>一个基本服务区BSA可以独立，也可以通过AP连接到一个分配系统DS，然后连接到另一个基本服务集，构成扩展的服务集ESS，通过一种叫做Portal（相当于网桥）的设备为无限用户提供有线连接的以太网接入。如图，A想要连接B则经过AP1和AP2即，A-&gt;AP1-&gt;AP2-&gt;B，注意AP1和AP2是有线传输。  <img src="/2022/050135078/14.jpg" class=""> ②无固定基础设施移动自组织网络：<br>又叫做自组网络，一些平等状态的移动站相互动心组成的临时网络，各节点地位平等，中间结点为转发结点，都有路由器的功能。<br>通常可移动设备发现附近有其他可移动设备，要求进行通信，网络中每个移动站都参与其他移动站的路由的维护和发现。  <h3 id="令牌环网的基本原理"><a href="#令牌环网的基本原理" class="headerlink" title="令牌环网的基本原理"></a>令牌环网的基本原理</h3>令牌环网每一站都通过电缆与环接口干线耦合器TCU连接（TCU为了传递所有经过的帧，为介入站发送接收数据提供接口，有收听状态和发送状态），数据总在一个方向上从一个TCU到另一个TCU传输。只有一个结点独占信道，不发生碰撞，令牌Token就是一个数据帧。<h2 id="广域网"><a href="#广域网" class="headerlink" title="广域网"></a>广域网</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3>覆盖范围广的长距离网络，是因特网核心部分。因此连接广域网结点的交换机为高速链路，且容量足够大便于以后扩充。广域网不等于互联网（互联网可以连接不同类型网络，使用路由器），广域网是由结点交换机和连接交换机的链路组成。（交换机不是路由器，结点交换机和路由器均转发分组，而交换机在单个网络中转发，路由器则是多个网络构成的互联网中转发），交换机存储转发分组，一个交换机与多个相连。<br>局域网和广域网区别于联系：  <img src="/2022/050135078/15.jpg" class=""> <h3 id="PPP协议"><a href="#PPP协议" class="headerlink" title="PPP协议"></a>PPP协议</h3>①Point-to-Point Protocol,是使用串行线路通信的的面向字节的协议，直接应用在两个结点的链路上，目的通过拨号/专线来建立点对点连接发送数据，使其称为各种主机，网桥，路由器之间简单连接的共同解决方案。<br>②由SLIP协议发展来的，异步同步线路均可，而SLIP主要完成数据包传送，只能传输IP分组，且对于高层应用不支持，为了改进指定了PPP。<br>③三个部分组成：<br>链路控制协议LCP：用于建立，配置，测试，管理数据链路。<br>网络控制协议NCP：PPP允许多种网络层协议，不同网络层协议对应一个不同NCP配置，为网络层协议建立和配置逻辑连接。<br>一个把IP数据包封装到串行链路的方法：IP数据报就是在PPP帧中的信息部分，长度收到MTU限制。<br>④PPP帧格式如图：PPP面向字节的，所以帧长度都是整数个字节。  <img src="/2022/050135078/20.jpg" class="">  ⑤PPP提供差错监测但没有纠错，只保证无差错接收，不可靠的传输协议，不使用序号和确认机制。仅支持点对点链路通信。只支持全双工链路。不同网络协议仍然可以使用一个PPP通信（帧上有协议字段）<h3 id="HDLC协议"><a href="#HDLC协议" class="headerlink" title="HDLC协议"></a>HDLC协议</h3>①高级数据链路控制协议，是ISO面向比特指定的数据链路层协议，它不依赖任何一种字符集编码，数据包可以透明传输，全双工通信，采用CRC检验，对于信息帧进行顺序编号防止漏发重发。适用于链路的两种配置：非平衡配置（由一个主站控制整个链路）和平衡配置（若干平等站相互传输）。<br>②站：HDLC有三种站类型：主站，从站，复合站。主站负责控制链路，发出的帧为命令帧。从站受控于主站，发出的帧为响应帧。复合站综合二者，发出帧可以是命令也可以是响应帧。<br>③数据操作方式：<br>正常响应方式：非平衡方式，主站传输，从站接收，但从站只有得到主站许可才能进行响应。<br>异步平衡方式：平衡方式，每个复合站都可以对其他站进行传输数据。<br>异步响应方式：非平衡，从站即使未接收主站许可仍然可以进行响应。<br>④HDLC帧：如图：  <img src="/2022/050135078/16.jpg" class=""> ⑤PPP和HDLC帧的区别：<br>PPP面向字节，HDLC面向比特。<br>PPP比HDLC多一个2字节的协议字段，当字段为0x0021时信息字段为IP数据报。<br>PPP不使用序号和确认机制，不可靠，由高层协议负责。而HDLC使用了，可靠。  <h2 id="数据链路层设备"><a href="#数据链路层设备" class="headerlink" title="数据链路层设备"></a>数据链路层设备</h2><h3 id="网桥概念及其基本原理"><a href="#网桥概念及其基本原理" class="headerlink" title="网桥概念及其基本原理"></a>网桥概念及其基本原理</h3></li><li>两个或者多个以太网通过网桥连接称为一个覆盖更大的以太网，原来一个以太网称为一个网段，网桥工作在MAC子层，可以使得以太网个网段称为隔离开的碰撞域。”隔离开的互不影响“。  （网桥处理帧所以是数据链路层，中继器放大器处理信号所以是物理层）  </li><li>一个网段内部发送帧直接发送，而不同网段才通过网桥，需要验证MAC地址是否是内部。每个网段数据率为10Mb/s，三个网段的最大吞吐量就是30Mb/s，换成放大器就是10Mb/s。  </li><li>基本特点：<br>①具备寻址和路径选择的能力，确定帧传输方向。<br>②从源网络接收帧，以目的网络的介质访问控制协议向目的网络转发该帧。<br>③网桥连接不同网络之间存储并且转发帧，可以使用不同协议，进行协议转换。<br>④网桥对于帧不做修改/少量修改，单纯转发。<br>⑤网桥应该有足够大缓冲空间，因为在短时间内帧到达速率可能高于转发速率。  </li><li>优点：<br>①过滤信息量。<br>②扩大物理范围。<br>③可以使用不同物理层。<br>④可以互联不同局域网。<br>⑤提高可靠性。<br>⑥性能改善。  </li><li>缺点：<br>①增大了时延。<br>②MAC子层没有流量控制功能。<br>③不同MAC子层的网段连接的时候需要进行帧格式转化。<br>④网桥适合用户不多，通信量不大的居于发，否则有可能网络拥塞。</li><li>网桥必须有路径选择功能，选择正确路径，根据路径算法不同分为透明网桥和源路由网桥。<br>①透明网桥：接收每一个帧，若是源LAN和目的LAN一样则丢弃该帧，不一样则转发该帧，若目的LAN位置则扩散该帧（扩散给输入网段外的所有网段）。刚连接进以太网转发表为空，逐渐建立转发表。使用一个生成树算法得到若干路径，但不一定是最佳路由。<br>②源路由网桥：路由选择由发送数据帧的源站负责，网桥只负责接收和转发。而源站通过广播方式向目的站发送一个发现帧，途中每个网桥都转发此帧，最后发现该帧可以从多个途径到达目的站，目的站一一发送应答帧，每个应答帧原路返回，途径网桥把自己标记在应答帧中，然后源站选一个最佳路由。  <h3 id="局域网交换机概念及其基本原理"><a href="#局域网交换机概念及其基本原理" class="headerlink" title="局域网交换机概念及其基本原理"></a>局域网交换机概念及其基本原理</h3></li><li>桥接器主要限制在任意时刻只能执行一个帧的转发操作，则出现了交换机。本质上就是多端口网桥，分隔隔离初多个冲突域，各个网段都有更高带宽。  </li><li>原理：监测源和目的地MAC，然后系统内部动态查找表比较，若不在则加入查找表，并发送给相应端口。</li><li>特点：<br>①每个端口都与单台主机连接，工作方式为全双工。<br>②可以同时连接多对端口，每对主机都像独占信道一样无碰撞交换数据。<br>③以太网即插即用（和透明网桥一样），内部帧转发表也是通过自学习逐渐建立起来的。<br>④交换速率高，独占传输媒体的带宽（传统10Mb/s以太网，有N个用户，有N个端口的交换机的总容量为N*10Mb/s）。</li><li>两种交换模式：<br>①直通式 ；只检查目的地址，立马传出去，这种方式速度快但缺乏智能和安全，无法支持不同速率的端口的交换。<br>②存储转发式：先收到帧缓存到告诉缓存器中，检查是否正确，无误则通过查找表转换成为输出端口转发，有错则丢弃。优点是可靠性高，支持不同速率端口之间的转换，缺点就是延迟大。  <h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2></li><li>链路与数据链路：<br>链路：是物理线路，无结点，路径的组成部分。<br>数据链路：除了物理线路还有一些通信协议控制数据传输。</li><li>局域网，广域网，因特网总结：<br>广域网视为大局域网，就是交换机连接多个局域网组成广域网，但仍是一个网络。而因特网则是多个网络之间的互联，由广域网和局域网通过路由器相连。</li><li>冲突域和广播域：<br>一块网卡发送信息只要可能与另一个冲突，则可能冲突的网卡构成冲突域，而一块网卡发送广播，所有能接到的网卡就是广播域。一般来说，一个网段就是冲突域，一个局域网就是广播域。  <img src="/2022/050135078/17.jpg" class=""> <img src="/2022/050135078/18.jpg" class=""> <img src="/2022/050135078/19.jpg" class=""></li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络物理层</title>
      <link href="/2022/050114293.html"/>
      <url>/2022/050114293.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络物理层"><a href="#计算机网络物理层" class="headerlink" title="计算机网络物理层"></a>计算机网络物理层</h1><img src="/2022/050114293/7.jpg" class=""><h2 id="通信基础"><a href="#通信基础" class="headerlink" title="通信基础"></a>通信基础</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ul><li>数据，信号与码元：</li></ul><p>1.数据指的是传送信息的实体，连续变化的数据为模拟数据，离散的数据为数字数据，且可以并行/串行传输数据。<br>2.信号是数据的电气/电磁表现形式，数据传输过程中表现形式。<br>3.码元是用一个固定时长的信号波形表示一个k进制数字，代表不同离散数值的基本波形，是数字通信中数字信号的计量单位，这个时长内的信号称为k进制码元，时长成为码元宽度。</p><ul><li>信源，信道，信宿：</li></ul><p>1.一个数据通信系统由这三部分组成。<br>2.信源：产生发送数据的源头，<br>3.信宿：接收数据的终点。<br>4.信道：和电路不等同，信道是信号的传输媒介，可以看作线路的逻辑媒介，一般一个通信线路都有一个发送信道和一个接收信道。信道根据传输信号不同分为模拟信道和数字信道，按传输介质不同分为无线和有线信道。<br>5.信道上传输的信号有基带信号和宽带信号之分。<br>基带信号是用1和0不同电压表示，送到数字信道上传输——基带传输。<br>宽带信号是把基带调制形成频分复用模拟信号，送到模拟信道上传输——宽带传输。<br>6.三种通信交互方式：单向通信（一条信道），半双工通信（两条信道，不能同时发送和接收），全双工通信（两条信道，能同时发送和接收）。  </p><img src="/2022/050114293/1.jpg" class="">  <ul><li>速率，波特和带宽：</li></ul><p>1.速率：数据传输率，单位时间传输数据量，可以用·码元传输速率表示（波特率，单位时间内数字通信系统所传输的码元个数，单位是波特，进制不定），也可用信息传输速率表示（信息速率，比特率，单位时间内数字通信系统所传输的码元个数，二进制）。<br>2.带宽：通信线路所能传输数据的能力，“最大速率”，单位为b/s。</p><h3 id="奈奎斯特定理和香农定理"><a href="#奈奎斯特定理和香农定理" class="headerlink" title="奈奎斯特定理和香农定理"></a>奈奎斯特定理和香农定理</h3><ul><li>奈奎斯特定理：</li></ul><p>1.具体信道能够通过的频率范围有限，信号中许多高频分量往往不能通过信道，否则传输中会衰弱，导致接收端收到的信号波形失去码元之间的清晰界限，这种现象成为码间串扰。<br>2.奈奎斯特定理规定——理想低通信道中，为了避免码间串扰，极限码元传输速率为2W波特，其中为理想低通信道带宽，若用V表示每个码元离散点评的数量（即多少种不同码元，16个码元就有4个二进制位表示，则数据传输速率是码元的4倍），则极限数据率=2W*log2(V)。<br>结论：<br>①任何信道码元传输速率有上限，超过上限就会出现严重的码间串扰，接收端不能完全正确识别码元。<br>②信道频带越宽，就可以用更高的速率进行码元的有效传输。<br>③奈奎斯特定理给出了码元传输速率限制，但并未对于信息传输速率给出限制，即未对一个码元可以对应多少个二进制位给出限制。<br>④所以要使得每个码元带更多的比特量，多元制的调制方法。</p><ul><li>香农定理：</li></ul><p>1.香农定理给出了带宽受限且有着高斯白噪声干扰的信道的极限数据传输速率，当使用该速率传输时可以不产生误差，则极限数据率=W*log2(1+S/N),W为信道带宽，S为信道传输信号平均功率，N为信道内高斯噪声功率，S/N为信噪比。<br>结论：<br>①信噪比越大，极限传输速率越高，信噪比确定时信息传输速率上限一定。<br>②只要信息传输速率低于上限，就一定有方法实现无差错传输。<br>③香农定理给出的是传输速率上限，实际信道比它低不少。</p><h3 id="编码与调制"><a href="#编码与调制" class="headerlink" title="编码与调制"></a>编码与调制</h3><ul><li>数据无论是数字还是模拟都需要变成信号才能进行传输，则数据变换为模拟信号的过程称为调制，变为数字信号的过程称为编码。  </li><li>数字数据通过数字发送器转换成数字信号，也可通过调制器转换成模拟信号。  </li><li>模拟数据通过POM编码器转换成数字信号，也可通过放大器调制器转换成模拟信号。  </li><li>所以产生了四种编码方式：</li></ul><p>1.数字数据编码为数字信号：<br>用于基带传输，即不改变信号频率之间传输数字信号，只要把1和0区分开即可，有多种编码方式：①归零编码RZ，②非归零编码NRZ，③反向非归零编码NRZI，④曼彻斯特编码，⑤差分曼彻斯特编码，⑥4B/5B编码。  </p><img src="/2022/050114293/2.jpg" class="">   <p>2.数字数据调制为模拟信号：<br>数字数据调制技术在发送端把数字信号转换为模拟信号，在接收端将模拟信号还原为数字信号，对应调制解调器的调制和解调过程，基本有如下几种：①幅移键控ASK，②频移键控FSK，③相移键控PSK，④正交振幅调制QAM。<br>3.模拟数据编码为数字信号：<br>经典例子就是音频信号的脉码调制PCM，包括采样，量化，编码三个步骤。<br>4.模拟数据调制为模拟信号：<br>为了实现传输有效性，可能需要较高频率，这种调制方式可以用频分复用FDM。  </p><h3 id="电路交换，报文交换，分组交换"><a href="#电路交换，报文交换，分组交换" class="headerlink" title="电路交换，报文交换，分组交换"></a>电路交换，报文交换，分组交换</h3><ul><li>电路交换：<br>①定义：两节点之间必须建立一条专用的物理通信路径，路径在整个数据传输期间被这两个结点独占，直到通信结束才被释放，因此有三个阶段：连接建立，数据传输，连接释放。以直通的方式发送接收数据，不存在存储转发消耗时间。<br>②优点：<br>通信时延小（线路两节点专享）<br>有序传输<br>没有冲突（各自有不同信道）<br>适用范围广（数字模拟信号均可传输）<br>实时性强（连接建立立即可传输）<br>控制简单<br>③缺点：<br>建立连接时间长<br>线路独占<br>灵活性差<br>难以规格化  </li><li>报文交换：<br>①定义：数据交换单位是报文，带有目标地址，源地址等信息，报文交换在交换节点采用的是存储转发的传输方式。<br>②优点：<br>无须建立连接<br>动态分配线路（发送方把报文交给交换设备，先存储整个报文再选择空闲线路发送报文），提高线路可靠性<br>提高线路利用率<br>提供多目标服务（一个报文多个目的地址）。<br>③缺点：有转发时延（报文先存储再转发）<br>对于报文大小没有限制导致网络节点应该有较大的缓存空间。  </li><li>分组交换：<br>①定义：也是存储转发，但解决了大报文的问题，限制了数据块上限，把大数据块划分成为小数据块加上必要的控制信息（两个地址+编号信息等）构成了分组Packet，中间结点接受分组存储并且排队，根据分组选择下一个结点，直到到达目的结点。<br>②优点：<br>无建立时延<br>线路利用率高<br>简化了存储管理（比报文交换，因为数据块固定所以缓冲区固定，简化了缓冲区的管理）<br>加速传输（分组是逐个传输的，一个分组存储和前一个分组转发是并行的，减少了传输时间）<br>减少出错概率和重发数据量（分组更短，出错概率小，所以重发数据量减少，提高可靠性减少了时延）<br>③缺点：<br>存在传输时延<br>需要传输额外信息量（每个块都有源地址和目的地址，分组编号等，从而构成分组，信息量提高了）<br>当分组交换使用数据报网络的时候可能失序，丢失，重复等，所以分组到达目的地址的时候需要排序等工作，但使用虚电路服务的时候还要建立连接三个过程。</li><li>三个数据交换方式比较：<br>①数据量大且传送时间远远大于建立连接时间的时候使用电路交换。<br>②端到端通路由多段链路组成时，采用分组交换。<br>③报文交换和分组交换的信道利用率高于电路交换，其中分组交换比报文交换时延小，尤其适合计算机之间突发通信。  <img src="/2022/050114293/3.jpg" class="">  <h3 id="数据报和虚电路"><a href="#数据报和虚电路" class="headerlink" title="数据报和虚电路"></a>数据报和虚电路</h3><img src="/2022/050114293/6.jpg" class="">   分组交换进一步分为面向连接的虚电路方式和无连接的数据方式，都由网络层提供。</li><li>数据报：<br>①网络层加上控制信息形成数据报分组，中间结点存储分组之后找到最佳路由，尽快转发分组，分组可以不同路径，也可以不同顺序，只需要找当前状态下分组最合适的路由转发即可。<br>②特点：<br>发送分组之前不需要建立连接。<br>网络尽最大努力交付，不保证可靠性，有可能丢失，乱序。<br>分组要包含发送端和接收端的完整地址，便于独立运输。<br>分组在存储转发过程中需要排队处理，网络拥塞的时候排队的时延大大增加，还可能丢失分组。<br>网络中具有冗余的路径，当某结点/链路发生故障的时候相应更新转发表，从另一条路径转发，对于故障适应性强。<br>存储转发时延一般较小，提高了网络吞吐量。<br>收发双方不独占某条链路，资源利用率高。  <img src="/2022/050114293/4.jpg" class="">  </li><li>虚电路：<br>①虚电路尝试把电路交换和数据报方式结合起来，分组发送之前先建立连接，一旦连接建立，路径就是固定的，总过程还是三个阶段。每次建立虚电路时，选择一个未用过的虚电路号分配，在传送数据的时候，分组不仅要有分组号，校验等控制信息，还要有虚电路号，且虚电路网络中每个结点都有一个虚电路表，包括接收链路，发送链路上的虚电路号，前一个结点和后一个结点的标识。<br>②特点：<br>通信链路建立拆除需要时间开销，短时间浪费，长时间效率高。<br>虚电路路由选择体现在建立链路的时候，建立完成就完成了路由选择，只有一条路径。<br>虚电路可靠，分组正确有序到达，且有流量控制。<br>虚电路路径中某个结点/链路故障时所有经过该结点/链路的虚电路都会被破坏。<br>分组首部不包括目的地址，包含的是虚电路标识符。<br>虚电路中的“虚”体现在，这条物理链路不是独占的，而是逻辑上一条独占的链路，两个端系统之间有不同的进程可能也存在不同的虚电路。 <img src="/2022/050114293/5.jpg" class="">  <h2 id="传输介质"><a href="#传输介质" class="headerlink" title="传输介质"></a>传输介质</h2>传输介质也叫传输媒体，是数据传输系统中发送设备和接收设备之间的物理通路，分为导向和非导向传输介质。<h3 id="双绞线，同轴电缆，光纤，无线传输介质"><a href="#双绞线，同轴电缆，光纤，无线传输介质" class="headerlink" title="双绞线，同轴电缆，光纤，无线传输介质"></a>双绞线，同轴电缆，光纤，无线传输介质</h3></li><li>双绞线：TP，两根相互校合的铜导线，还有屏蔽双绞线STP，非屏蔽双绞线UTP。价格便宜，局域网和传统电话中常见，带宽取决于铜线粗细和传输距离</li><li>同轴电缆：由内导体，绝缘层，网状编制屏蔽层和塑料外层构成，有50欧的基带同轴电缆——局域网，75欧的宽带同轴电缆——电视。</li><li>光纤：光导纤维传递光脉冲来通信，容量大，传输损耗小，远距离传输经济，抗雷电电磁性能好，无串音干扰，体积小重量轻。  </li><li>无线传输介质：有无线电波（穿透力强，距离长，无需方向对准），微波，红外线，激光<h3 id="物理层接口特征"><a href="#物理层接口特征" class="headerlink" title="物理层接口特征"></a>物理层接口特征</h3></li><li>物理层考虑如何把连接计算机的媒体上传输比特流，而硬件设备和传输介质种类繁多且通信方式也有差异，物理层尽可能屏蔽差异。  </li><li>物理层主要任务是确定与传输媒体的接口有关的特性：<br>①机械特性：指定接口所用接线器形状，尺寸，引脚数量和排列，固定和锁定装置等。<br>②电器特性：指定在接口电缆各条线上出现的电压范围。<br>③功能特性：指定某条线上出现的某一个电平的电压表示何种意义。<br>④过程特性：又称规程特性，指定对于不同功能的各个可能事件的出现顺序。  </li><li>常用的物理层接口标准有：EIA RS-232-C，ADSL，SONET/SDH等<h2 id="物理层设备"><a href="#物理层设备" class="headerlink" title="物理层设备"></a>物理层设备</h2><h3 id="中继器repeater"><a href="#中继器repeater" class="headerlink" title="中继器repeater"></a>中继器repeater</h3></li><li>主要功能是把信号整形并放大再转发出去，消除信号经过电缆之后产生的失真和衰弱，使得信号波形和强度达到标准，进而扩大网络传输距离。</li><li>原理是信号再生，有两个端口，一个输入一个输出。而放大器原理是信号放大。</li><li>简单廉价，在物理层工作，中继器两端是同一个局域网，不能连接两个不同速率的局域网。</li><li>理论上中继器无限使用，但现实中不可能，“5-4-3原则”：4个中继器连接5个通信介质中只有3段可以连接计算机。<h3 id="集线器hub"><a href="#集线器hub" class="headerlink" title="集线器hub"></a>集线器hub</h3></li><li>实质是多端口中继器，在网络中只有信号放大和转发作用，目的为了扩大网络的传输范围，而不是信号定向传送，即信号传输的方向固定，是一个标准的共享式设备。  </li><li>集线器不能分割冲突域，所有端口属于一个冲突域，比如10Mb/s带宽的集线器连接8台计算机，每台计算机带宽为10/8=1.25Mb/s。<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2></li><li>传输媒体不是物理层：传输媒体在物理层下面，传输媒体传输的是信号但不知道信号意味着啥，物理层识别所传送的比特流。</li><li>基带传输：计算机内部/相邻设备之间近距离传输，不经过调制在信道上直接传输称为基带传输，常用于局域网。</li><li>频带传输：数字信号对于特定频率的载波进行调制，变成适合传送的信号再传输，这叫做频带传输。远距离/无线传输时使用。</li><li>宽带传输：借助频带传输（频分复用），把链路容量分解为&gt;=2个信道，每个信道携带不同信号，就叫宽带传输。所有信道互不干扰发送信号，链路容量大大增加。</li><li>同步异步的理解：同步：通信双方必须线建立同步，即时钟调整同一个频率，双方不停的发送接收比特流，两种同步方法：全网同步和准同步。而异步可以理解为非同步。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络体系结构</title>
      <link href="/2022/043050802.html"/>
      <url>/2022/043050802.html</url>
      
        <content type="html"><![CDATA[<h1 id="计算机网络体系结构"><a href="#计算机网络体系结构" class="headerlink" title="计算机网络体系结构"></a>计算机网络体系结构</h1><img src="/2022/043050802/9.jpg" class=""> <h2 id="计算机网络的概念"><a href="#计算机网络的概念" class="headerlink" title="计算机网络的概念"></a>计算机网络的概念</h2><ul><li>计算机网络是一个将分散的，具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。<h2 id="计算机网络的组成"><a href="#计算机网络的组成" class="headerlink" title="计算机网络的组成"></a>计算机网络的组成</h2><h3 id="共分三类："><a href="#共分三类：" class="headerlink" title="共分三类："></a>共分三类：</h3></li><li>组成部分：硬件，软件，协议。</li></ul><p>1.硬件：主机（端系统），通信链路（双绞线，光纤），交换设备（路由器，交换机），通信处理机（网卡）<br>2.软件：实现资源共享的软件和方便用户使用的工具软件（邮件收发，聊天程序等）<br>3.协议：计网核心，“交通规则”规定网络传输数据时所遵循的规范  </p><ul><li>工作方式：边缘部分和核心部分</li></ul><p>1.边缘部分：主机，用来通信和资源共享<br>2.核心部分：网络和连接网络的路由器，为边缘提供连通和交换</p><ul><li>功能组成：通信子网和资源子网</li></ul><p>1.通信子网：传输介质，通信设备，网络协议。<br>2.资源子网：资源共享的设备及其软件</p><h2 id="计算机网络的功能"><a href="#计算机网络的功能" class="headerlink" title="计算机网络的功能"></a>计算机网络的功能</h2><ul><li>数据通信</li><li>资源共享</li><li>分布式处理</li><li>提高可靠性</li><li>负载均衡<h2 id="计算机网络的分类"><a href="#计算机网络的分类" class="headerlink" title="计算机网络的分类"></a>计算机网络的分类</h2><h3 id="共分六类："><a href="#共分六类：" class="headerlink" title="共分六类："></a>共分六类：</h3></li><li>分布范围：<br>广域网WAN，城域网MAN，局域网LAN，个人区域网PAN</li><li>传输技术：<br>广播式网络，点对点网络（区别于是否分组存储转发和路由选择机制）</li><li>拓扑结构：<br>总线形，星形，环形，网状（节点与通信链路的几何关系），也可以互联成为更复杂网络结构</li><li>使用者：<br>公用网，专用网</li><li>交换技术：</li></ul><p>1.电路交换网络：点对点，建立连接，传输数据，断开连接，传统电话网络。优点：数据直接传送，时延小。缺点：线路利用率低，无差错控制。<br>2.报文交换网络：加源地址和目标地址，封装成为报文段传送。也叫存储转发网络，优点：充分利用线路，一对多多对一，差错控制。缺点：资源开销大，缓冲时延，缓冲区难管理。<br>3.分组交换网络：把数据封装成固定长度数据块，块红加上目的地址和源地址等辅助信息成为分组，以存储-转发传输。优点：报文网络优点+缓冲容易管理，包时延小，现在主流网络的选择。</p><ul><li>传输介质：</li></ul><p>1.有线：双绞线网络，同轴电缆网络等。<br>2.无线：蓝牙，微波，无线电等。  </p><h2 id="计算机网络的性能指标"><a href="#计算机网络的性能指标" class="headerlink" title="计算机网络的性能指标"></a>计算机网络的性能指标</h2><ul><li>带宽：bandwidth，单位Hz，表示网络通信线路传输数据能力，“最高数据传输速率”。</li><li>时延：delay，端到端传送总时间，总时延=发送时延+传播时延+处理时延+排队时延。</li><li>时延带宽积：传播时延x信道带宽。</li><li>往返时延：round-trip-time”RTT”,从发送端开始到接收到接收端的确认历经总时延。</li><li>吞吐量：throughput，单位时间内通过某个网络数据量。</li><li>速率：speed，计算机网络上主机在数据信道上传送数据的速率，最高速率为带宽，单位为比特/秒，b/s。  </li><li>信道利用率： 有数据通过的时间/有无数据通过的时间。<h2 id="计算机网络的体系结构"><a href="#计算机网络的体系结构" class="headerlink" title="计算机网络的体系结构"></a>计算机网络的体系结构</h2><h3 id="计算机网络的分层结构"><a href="#计算机网络的分层结构" class="headerlink" title="计算机网络的分层结构"></a>计算机网络的分层结构</h3></li><li>计算机网络各层及其协议的集合就是计算机网络的体系结构。</li><li>每层活动元素成为实体，每层传送的数据单位不同，但都有两部分：数据服务单元SDU和协议控制单元PCI，共同组成协议数据单元PDU。</li><li>从上到下包装,从下到上拆解，n-SDU+n-PCI=n-n-PDU=(n-1)-SDU。</li><li>每层使用下层的服务，服务上层：最底层只提供服务，最高层只面向用户服务，中间层既享受服务也服务上层。</li><li>每层只能调用相邻层接口服务。</li><li>两台主机通信的时候对等层有一条直接信道。<h3 id="计算机网络协议，接口，服务"><a href="#计算机网络协议，接口，服务" class="headerlink" title="计算机网络协议，接口，服务"></a>计算机网络协议，接口，服务</h3></li><li>协议：为网络数据交换建立的规则，标准，约定。控制两个/多个对等实体进行通信的规则的集合，是水平的，不对等实体之间没有协议。包括语法，语义，同步。</li><li>接口：同一个结点内相邻层之间交换信息的连接点，系统内部的规定，n+1层通过访问n层的SAP（服务访问点）来获取服务，每个SAP有自己的地址。</li><li>服务：下层为紧邻的上层提供的功能调用，是垂直的。上下层提供服务的时候有四类原语：请求request，指示indication，响应response，证实confirmation。<br>计算机提供的服务有三种：</li></ul><p>1.面向连接服务和无连接服务：面向连接必须先建立连接分配资源，结束再释放连接和资源，三个阶段，如TCP，无连接服务只需要直接发送数据，把带目的地的包传送在线路上，不可靠的服务，Best-Effort-Delivery，如IP和UDP<br>2.可靠服务和不可靠服务：可靠指的是有纠错，检错，应答机制，保证正确可靠传输数据，而不可靠是尽量正确可靠，尽力而为的服务。<br>3.有应答服务和无应答服务：是否有接受方接收数据之后向发送方发送应答，文件传输服务就是有应答，WWW就是无应答</p><h3 id="ISO-x2F-OSI与TCP-x2F-IP模型"><a href="#ISO-x2F-OSI与TCP-x2F-IP模型" class="headerlink" title="ISO/OSI与TCP/IP模型"></a>ISO/OSI与TCP/IP模型</h3><ul><li>OSI模型：七层，从下到上分别为：物理层，数据链路层，网络层，传输层，会话层，表示层，应用层。<br>低三层为通信子网（为了连接网络的通信设备），传输层承上启下，上三层为资源子网（相当于计算机，完成数据处理）。</li><li>TCP/IP模型：四层，从下到上分别为：网络接口层，网际层，传输层，应用层。  </li><li>两者共同点：都采取分层结构。都基于独立协议栈的概念。都可以解决异构网络的互连（不同厂家计算机互联）</li><li>两者不同点：<br>OSI产生服务，协议，接口概念，与面向对象思想吻合。OSI先产生的模型而没有对应协议，TCP/TP先产生了协议再产生的模型。<br>TCP/IP设计之初就考虑了异构网络的问题，并用IP分层，OSI后来才在网络层中产生子层完成类似IP的功能。<br>OSI支持无连接和面向连接服务，但在传输层只有面向连接服务，而TCP/IP认为可靠性是端到端的问题，网际层仅有无连接，传输层支持两种模式。</li><li>我们折中，综合两个模型来划分五层：物理层，数据链路层，网络层，传输层，应用层。发送方用户给出自然语言通过应用层转化为数据，从上到下层层包装数据，接收方从下到上层层逆向拆解数据把数据提交给用户。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown介绍及使用教程</title>
      <link href="/2022/04296929.html"/>
      <url>/2022/04296929.html</url>
      
        <content type="html"><![CDATA[<h2 id="举个例子解释"><a href="#举个例子解释" class="headerlink" title="举个例子解释"></a>举个例子解释</h2><p> 大部分作家都是用 Word 或 Pages 写作，过去的文档也大都以微软的 .doc, .docx 格式或是苹果的 Pages 格式储存。还有人为了保证文稿发给谁都能正常打开，会用 .txt 格式。但是.doc 或 Pages 格式有如下问题：</p><p>1.不一定谁都能打开。用 Windows 的人打不开苹果的 .pages 文件，用旧版 Word 的人不一定能打开你用新版 Word 写的稿子。</p><p>2.对方看到的稿子的样子和你自己看到的可能差别很大。</p><p>3.大部分人电脑上的Office都是盗版的，使用时很容易出问题。</p><p>4.用.txt 写的稿子没有格式，这就给编辑你文章的人带来困扰了。</p><h2 id="这就是-Markdown-登场的时候了"><a href="#这就是-Markdown-登场的时候了" class="headerlink" title="这就是 Markdown 登场的时候了"></a>这就是 Markdown 登场的时候了</h2><p>Markdown 的优点如下： </p><ul><li><p>纯文本，所以兼容性极强，可以用所有文本编辑器打开。<br>兼顾了「什么人都能打开」和「样式」。Markdown 就是纯文本，就是 .txt，所以什么人都能打开。而如上所述，你可以用它来标记文本的样式，而且语法非常简单。<br>由于是纯文本，Markdown 文稿也不会因为未来软件升级而产生不同版本之间的兼容问题，即，不会出现「我这篇稿子是用旧版 Word 写的，你用新版 Word 看可能格式会有点问题」的情况。</p></li><li><p>让你专注于文字而不是排版。</p></li><li><p>格式转换方便，Markdown 的文本你可以轻松转换为 html、电子书等。</p></li><li><p>Markdown 转 HTML 非常方便。HTML 是整个万维网（web）的标记语言，但更重要的是，它也是目前主流电子书格式所用的标记语言。无论是 EPUB, mobi，还是 Kindle 用的专有格式 .azw，都只是把一堆 HTML 文件打包而已。如果你写的是书，用 Markdown 标注格式之后，可以很方便地转为以上格式（当然这个转换工作不需要由你来做）；如果你写的是单篇的文章（例如新闻报道或专栏），未来也不排除结集出书的可能。若采用 Markdown，对于日后的文件转换工作也大有裨益。如何开始用 Markdown？继续用你习惯的写作软件即可。记事本、Word、Pages 都没问题，但请记得存成纯文本格式。就这么简单。</p></li><li><p>Markdown 的标记语法有极好的可读性。</p></li></ul><p>插入链接: </p><ul><li><a href="https://www.jianshu.com/p/7771794c88a1?msclkid=1fb103a8c7b611eca8bd8cd73728089a#%E8%BD%AC%E6%8D%A2%E4%B8%BA-HTML-%E6%96%87%E6%A1%A3">Markdown介绍及使用教程</a></li><li><a href="https://zhuanlan.zhihu.com/p/265077468?msclkid=7f270e55c7bd11ec9e490cd5ce2b3b96">hexo博客如何插入图片</a><br>插入图片：  </li><li><img src="https://th.bing.com/th/id/OIP.AjQfAi88wTpfm3XCNHUYogAAAA?pid=ImgDet&amp;rs=1">  </li><li><img src="/2022/04296929/1.jpg" class=""></li><li><img src="/2022/04296929/2.jpeg" class=""></li></ul>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客介绍</title>
      <link href="/2022/042843699.html"/>
      <url>/2022/042843699.html</url>
      
        <content type="html"><![CDATA[<p>临近保研和课程实训，需要大量复习的专业课和学习新技术，就在此记录我的近期学习计划。</p><h2 id="计算机科学与技术："><a href="#计算机科学与技术：" class="headerlink" title="计算机科学与技术："></a>计算机科学与技术：</h2><h3 id="1-数据结构"><a href="#1-数据结构" class="headerlink" title="1.数据结构"></a>1.数据结构</h3><h3 id="2-操作系统"><a href="#2-操作系统" class="headerlink" title="2.操作系统"></a>2.操作系统</h3><h3 id="3-计算机网络"><a href="#3-计算机网络" class="headerlink" title="3.计算机网络"></a>3.计算机网络</h3><h3 id="4-计算机组成原理"><a href="#4-计算机组成原理" class="headerlink" title="4.计算机组成原理"></a>4.计算机组成原理</h3><h3 id="5-计算机科学基本理论"><a href="#5-计算机科学基本理论" class="headerlink" title="5.计算机科学基本理论"></a>5.计算机科学基本理论</h3><h3 id="6-数据库系统"><a href="#6-数据库系统" class="headerlink" title="6.数据库系统"></a>6.数据库系统</h3><h2 id="软件工程："><a href="#软件工程：" class="headerlink" title="软件工程："></a>软件工程：</h2><h3 id="1-软件工程理论"><a href="#1-软件工程理论" class="headerlink" title="1.软件工程理论"></a>1.软件工程理论</h3><h3 id="2-软件测试与质量保证"><a href="#2-软件测试与质量保证" class="headerlink" title="2.软件测试与质量保证"></a>2.软件测试与质量保证</h3><h3 id="3-软件需求分析与系统设计"><a href="#3-软件需求分析与系统设计" class="headerlink" title="3.软件需求分析与系统设计"></a>3.软件需求分析与系统设计</h3><h3 id="4-软件项目管理与过程改进"><a href="#4-软件项目管理与过程改进" class="headerlink" title="4.软件项目管理与过程改进"></a>4.软件项目管理与过程改进</h3><h3 id="5-面向对象基本理论"><a href="#5-面向对象基本理论" class="headerlink" title="5.面向对象基本理论"></a>5.面向对象基本理论</h3><h3 id="6-程序设计基本理论"><a href="#6-程序设计基本理论" class="headerlink" title="6.程序设计基本理论"></a>6.程序设计基本理论</h3><h2 id="数学："><a href="#数学：" class="headerlink" title="数学："></a>数学：</h2><h3 id="1-高等数学"><a href="#1-高等数学" class="headerlink" title="1.高等数学"></a>1.高等数学</h3><h3 id="2-离散数学"><a href="#2-离散数学" class="headerlink" title="2.离散数学"></a>2.离散数学</h3><h3 id="3-概率论"><a href="#3-概率论" class="headerlink" title="3.概率论"></a>3.概率论</h3><h3 id="4-线性代数"><a href="#4-线性代数" class="headerlink" title="4.线性代数"></a>4.线性代数</h3><h2 id="技术："><a href="#技术：" class="headerlink" title="技术："></a>技术：</h2><h3 id="1-springboot"><a href="#1-springboot" class="headerlink" title="1.springboot"></a>1.springboot</h3><h3 id="2-vue"><a href="#2-vue" class="headerlink" title="2.vue"></a>2.vue</h3><h3 id="3-springcloud"><a href="#3-springcloud" class="headerlink" title="3.springcloud"></a>3.springcloud</h3><h3 id="4-redis"><a href="#4-redis" class="headerlink" title="4.redis"></a>4.redis</h3><h3 id="5-部署服务器"><a href="#5-部署服务器" class="headerlink" title="5.部署服务器"></a>5.部署服务器</h3><h2 id="（未完待续）"><a href="#（未完待续）" class="headerlink" title="（未完待续）"></a>（未完待续）</h2>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
